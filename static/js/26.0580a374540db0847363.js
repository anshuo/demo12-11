webpackJsonp([26],{GSbq:function(a,s,e){a.exports=e.p+"static/img/je3sxaa9.png"},"rH+X":function(a,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=e("Dd8w"),n=e.n(t),i=e("Hdn/"),r=e("mbkp"),c=e("NYxO"),_=Object(c.a)("userModule"),o=(_.mapMutations,_.mapActions),d=_.mapState,u={components:{headerNavBack:i.a,success:r.a},data:function(){return{imgFile:{},params:{url:null},show_gender:0,gender_arr:["男","女","保密"],gender_history:null,direction:e("hjzQ"),centerTitle:"个人信息",rightTitle:"",showSuccessTip:0,uploadTitle:"上传成功",back_img:e("Jl9t")}},methods:n()({},o(["USER_INFO"]),{changeGender:function(a){this.show_gender=1},change_gender:function(a){var s=this;switch(this.$Indicator.open({text:"修改中...",spinnerType:"fading-circle"}),a){case"男":this.gender_history="M";break;case"女":this.gender_history="F";break;case"保密":this.gender_history="S"}this.axios.post("/api/changeGender",{gender:this.gender_history}).then(function(e){"success"===e.data.status&&(s.$Indicator.close(),s.$Toast({message:"修改成功",position:"middle",duration:1e3}),s.USER_INFO_OBJECT.gender=a,s.show_gender=0)}).catch(function(a){})},cancel_modal:function(){this.show_gender=0},change_nickName:function(a){this.$router.push({name:"changeNickname",params:{id:a.userId,name:a.nickname,phone:a.mobile}})},change_address:function(a){this.$router.push({name:"changeAddress",params:{id:a.userId,phone:a.mobile,address:a.address,familyAddr:a.familyAddress}})},changeSignature:function(a){this.$router.push({name:"changeSignature",params:{id:a.userId,phone:a.mobile,intro:a.introduction}})},changeTrueName:function(a){this.$router.push({name:"changeTrueName",params:{id:a.userId,phone:a.mobile,truename:a.trueName}})},changeImg:function(a){var s=this;this.$Indicator.open({text:"上传中...",spinnerType:"fading-circle"});var e=a.target.files[0];this.params.filename=e.name;var t=new FileReader;t.readAsDataURL(e),t.onload=function(a){s.axios.post("/api/upload_file",{content:a.target.result}).then(function(a){s.$store.state.userModule.LOGIN_USER_OBJECT.user.avatar=a.data.data[0],s.$store.state.userModule.USER_INFO_OBJECT.avatar=a.data.data[0],s.params.url=a.data.data[0],s.axios.post("/api/avater",s.params).then(function(a){a.data.result&&(s.$Indicator.close(),s.$Toast({message:"上传成功",position:"middle",duration:1e3}))}).catch(function(a){})}).catch(function(a){})}},backEvent:function(){this.$router.push("/mine")}}),mounted:function(){var a=this,s=null;this.$route.params.id?s=this.$route.params.id:this.$router.push("/mine"),this.USER_INFO_OBJECT?this.$Indicator.close():(this.$Indicator.open({text:"修改中...",spinnerType:"fading-circle"}),this.USER_INFO({params:{id:s}}).then(function(s){a.$Indicator.close()}).catch(function(a){}))},computed:d(["USER_INFO_OBJECT","LOGIN_USER_OBJECT"]),watch:{USER_INFO_OBJECT:function(a){},LOGIN_USER_OBJECT:function(a){}}},l={render:function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("div",{staticClass:"base_info_container"},[t("mt-header",{attrs:{title:a.centerTitle}},[t("router-link",{attrs:{slot:"left",to:"/mine"},slot:"left"},[t("mt-button",{attrs:{icon:"back"}})],1)],1),a._v(" "),t("div",[t("div",{staticClass:"middel_container"},[t("div",[t("img",{staticClass:"avatar",attrs:{src:a.USER_INFO_OBJECT&&a.USER_INFO_OBJECT.avatar?a.USER_INFO_OBJECT.avatar:"",alt:"头像"}}),a._v(" "),t("img",{staticClass:"upload_cam",attrs:{src:e("GSbq"),alt:"上传ICO"}}),a._v(" "),t("input",{staticClass:"upload_file",attrs:{type:"file",name:"avater",accept:"image/*",onfocus:"this.blur()"},on:{change:function(s){a.changeImg(s)}}})])]),a._v(" "),t("div",{staticClass:"info_list"},[t("div",[t("div",[t("span",[a._v("用户ID")]),t("span",{staticClass:"userid"},[t("span",{staticClass:"userInfo"},[a._v(a._s(a.USER_INFO_OBJECT&&a.USER_INFO_OBJECT.userId?a.USER_INFO_OBJECT.userId:""))])])]),a._v(" "),t("div",[t("span",[a._v("手机号")]),t("span",{staticClass:"phone"},[t("span",{staticClass:"userInfo"},[a._v(a._s(a.USER_INFO_OBJECT&&a.USER_INFO_OBJECT.mobile?a.USER_INFO_OBJECT.mobile:""))])])]),a._v(" "),a.USER_INFO_OBJECT&&"0"===a.USER_INFO_OBJECT.clueCategory?t("div",[t("span",[a._v("用户名")]),a._m(0)]):a._e(),a._v(" "),a.USER_INFO_OBJECT&&"1"===a.USER_INFO_OBJECT.clueCategory?t("div",[t("span",[a._v("用户名")]),t("span",{staticClass:"userName"},[t("span",{staticClass:"userInfo"},[a._v(a._s(a.USER_INFO_OBJECT&&a.USER_INFO_OBJECT.qqAccount?a.USER_INFO_OBJECT.qqAccount:""))])])]):a._e(),a._v(" "),a.USER_INFO_OBJECT&&"2"===a.USER_INFO_OBJECT.clueCategory?t("div",[t("span",[a._v("用户名")]),t("span",{staticClass:"userName"},[t("span",{staticClass:"userInfo"},[a._v(a._s(a.USER_INFO_OBJECT&&a.USER_INFO_OBJECT.weixinAccount?a.USER_INFO_OBJECT.weixinAccount:""))])])]):a._e(),a._v(" "),t("div",{on:{click:function(s){a.change_nickName(a.USER_INFO_OBJECT)}}},[t("span",[a._v("昵称")]),t("span",[t("span",{staticClass:"userInfo"},[a._v(a._s(a.USER_INFO_OBJECT&&a.USER_INFO_OBJECT.nickname?a.USER_INFO_OBJECT.nickname:""))]),t("img",{attrs:{src:a.direction}})])]),a._v(" "),t("div",[t("span",[a._v("班级编号")]),t("span",{staticClass:"phone"},[t("span",{staticClass:"userInfo"},[a._v(a._s(a.USER_INFO_OBJECT&&a.USER_INFO_OBJECT.className?a.USER_INFO_OBJECT.className:""))])])])]),a._v(" "),t("div",[t("div",{on:{click:function(s){a.changeTrueName(a.USER_INFO_OBJECT)}}},[t("span",[a._v("真实姓名")]),t("span",[t("span",{staticClass:"userInfo"},[a._v(a._s(a.USER_INFO_OBJECT&&a.USER_INFO_OBJECT.trueName?a.USER_INFO_OBJECT.trueName:""))]),t("img",{attrs:{src:a.direction}})])]),a._v(" "),t("div",{on:{click:function(s){a.changeGender(a.USER_INFO_OBJECT)}}},[t("span",[a._v("性别")]),t("span",[t("span",{staticClass:"userInfo"},[a._v(a._s(a.USER_INFO_OBJECT&&a.USER_INFO_OBJECT.gender?a.USER_INFO_OBJECT.gender:""))]),t("img",{attrs:{src:a.direction}})])]),a._v(" "),t("div",{on:{click:function(s){a.change_address(a.USER_INFO_OBJECT)}}},[t("span",[a._v("所在地区")]),t("span",[t("span",{staticClass:"userInfo"},[a._v(a._s(a.USER_INFO_OBJECT&&a.USER_INFO_OBJECT.address?a.USER_INFO_OBJECT.address:""))]),t("img",{attrs:{src:a.direction}})])]),a._v(" "),t("div",{staticClass:"user-insigntrue",on:{click:function(s){a.changeSignature(a.USER_INFO_OBJECT)}}},[t("span",[a._v("个性签名")]),t("span",[t("span",{staticClass:"userInfo"},[a._v(a._s(a.USER_INFO_OBJECT&&a.USER_INFO_OBJECT.introduction?a.USER_INFO_OBJECT.introduction:""))]),t("img",{attrs:{src:a.direction}})])])])])]),a._v(" "),t("transition",{attrs:{"enter-active-class":"slideInUp","leave-active-class":"slideOutDown"}},[a.show_gender?t("div",{staticClass:"gender_container animated"},[t("div",[t("div",{staticClass:" change_gender"},a._l(a.gender_arr,function(s,e){return t("div",{key:e,on:{click:function(e){a.change_gender(s)}}},[a._v(a._s(s))])})),a._v(" "),t("div",{staticClass:"cancel"},[t("div",{on:{click:a.cancel_modal}},[a._v("取消")])])])]):a._e()]),a._v(" "),a.showSuccessTip?t("success",{attrs:{title:a.uploadTitle}}):a._e()],1)},staticRenderFns:[function(){var a=this.$createElement,s=this._self._c||a;return s("span",{staticClass:"userName"},[s("span",{staticClass:"userInfo"})])}]};var O=e("VU/8")(u,l,!1,function(a){e("w4lr")},"data-v-d50f6bba",null);s.default=O.exports},w4lr:function(a,s){}});
//# sourceMappingURL=26.0580a374540db0847363.js.map