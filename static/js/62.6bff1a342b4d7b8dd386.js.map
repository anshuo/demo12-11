{"version":3,"sources":["webpack:///src/pages/mine/myFance.vue","webpack:///./src/pages/mine/myFance.vue?e284","webpack:///./src/pages/mine/myFance.vue"],"names":["Object","vuex_esm","mapActions","mapMutations","mapState","myFance","components","success","data","showSuccess","successTitle","falgNoData","pagination","showData","showLoginModal","page","destroyed","window","onscroll","methods","extends_default","dropDown","_this","this","scrollEvent","$Indicator","open","text","spinnerType","GET_MYFANCE","params","$store","state","userMmodule","MY_FANCE_OBJECT_LIST","MY_FANCE_PAGE","then","contents","length","close","catch","err","to_flow","item","_this2","axios","post","followingId","userId","$set","changeSuccessStatus","flowed","_this3","info","time","_this4","setTimeout","mounted","_this5","MY_FANCE_LIST","computed","mine_myFance","render","_vm","_h","$createElement","_c","_self","_e","staticClass","attrs","src","__webpack_require__","alt","_v","_l","index","key","avatar","_s","nickname","introduction","isFollowed","on","click","$event","enter-active-class","leave-active-class","title","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/62.6bff1a342b4d7b8dd386.js","sourcesContent":["<template>\r\n  <!-- tab 切换按钮 END -->\r\n  <section>\r\n    <p class=\"noWrapper\" v-if=\"!MY_FANCE_OBJECT_LIST.MY_FANCE_LIST.length\"><img src=\"../../assets/img/da.png\" alt=\"没有关注的课程哦~\"><br>暂时还没有内容~~宝宝先看看别的~~</p>\r\n    <div class=\"attention_item\" v-for=\"(item, index) in MY_FANCE_OBJECT_LIST.MY_FANCE_LIST\" :key=\"index\">\r\n      <div>\r\n        <img :src=\"item.avatar\" alt=\"头像\">\r\n        <div class=\"teacher_base_info\">\r\n          <a >{{item.nickname}}</a><br>\r\n          <a class=\"home_work\">{{item.introduction}}</a>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"item.isFollowed == 'N'\" class=\"note\" @click=\"to_flow(item)\"><a >关注</a></div>\r\n      <div v-if=\"item.isFollowed == 'Y'\" class=\"notes\" @click=\"flowed(item)\"><a >已关注</a></div>\r\n    </div>\r\n    <transition enter-active-class=\"zoomIn\" leave-active-class=\"zoomOut\">\r\n      <success :title=\"successTitle\" v-if=\"showSuccess\" class=\"animated\"></success>\r\n    </transition>\r\n  </section>\r\n</template>\r\n<script>\r\n  import success from '@/components/success'\r\n  import { createNamespacedHelpers } from 'vuex'\r\n  const { mapMutations, mapActions, mapState} = createNamespacedHelpers('userModule')\r\n  export default {\r\n    components:{\r\n      success\r\n    },\r\n    data () {\r\n      return {\r\n        showSuccess: 0,\r\n        successTitle: '',\r\n        falgNoData: false,\r\n        pagination: true,\r\n        showData: false,\r\n        showLoginModal: 0,\r\n        page: 1\r\n      }\r\n    },\r\n    destroyed () {\r\n      window.onscroll =() => {\r\n        return\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions([\r\n        'GET_MYFANCE'\r\n      ]),\r\n      dropDown() {\r\n\r\n        if (this.falgNoData) { //数据全部加载完了\r\n          return\r\n        } else if (this.scrollEvent() && this.pagination) { //如果满足触发条件，执行\r\n          this.$Indicator.open({\r\n            text: '加载中...',\r\n            spinnerType: 'fading-circle'\r\n          })\r\n          this.falgNoData = true\r\n          this.GET_MYFANCE({\r\n            params: {\r\n              page: ++this.$store.state.userMmodule.MY_FANCE_OBJECT_LIST.MY_FANCE_PAGE\r\n            }\r\n          }).then( data => {\r\n            if (this.pagination) {\r\n              if (data.data.contents.length) {\r\n                this.$Indicator.close()\r\n                this.falgNoData = false\r\n              } else {\r\n                this.$Indicator.close()\r\n                this.pagination = false\r\n                this.falgNoData = true\r\n              }\r\n            }\r\n          }).catch(err => {\r\n            console.log(err)\r\n          })\r\n        }\r\n      },\r\n      // 添加关注\r\n      to_flow(item){\r\n        this.$Indicator.open({\r\n          text: '添加中...',\r\n          spinnerType: 'fading-circle'\r\n        })\r\n        this.axios.post('/api/user-following/add',{\r\n          followingId: item.userId\r\n        }).then(data => {\r\n          this.$set(item,'isFollowed','Y')\r\n          this.changeSuccessStatus('关注成功',500)\r\n        }).catch( err => {\r\n          console.log(err)\r\n        })\r\n      },\r\n      flowed(item){\r\n        this.$Indicator.open({\r\n          text: '取消中...',\r\n          spinnerType: 'fading-circle'\r\n        })\r\n        this.axios.post('/api/user-following/delete',{\r\n          followingId: item.userId\r\n        }).then(data => {\r\n          this.$set(item,'isFollowed','N')\r\n          this.changeSuccessStatus('取消成功',500)\r\n        }).catch( err => {\r\n          console.log(err)\r\n        })\r\n      },\r\n      // 成功状态\r\n      changeSuccessStatus(info,time){\r\n        this.$Indicator.close()\r\n        this.successTitle = info\r\n        this.showSuccess = 1\r\n        setTimeout(()=>{\r\n          this.showSuccess = 0\r\n        },time)\r\n      },\r\n    },\r\n    mounted () {\r\n\r\n      window.onscroll = () => {\r\n        this.dropDown()\r\n      }\r\n\r\n      // 请求粉丝列表\r\n      if(this.MY_FANCE_OBJECT_LIST && this.MY_FANCE_OBJECT_LIST.MY_FANCE_LIST.length > 0){\r\n        return\r\n      }\r\n      this.$Indicator.open({\r\n        text: '加载中...',\r\n        spinnerType: 'fading-circle'\r\n      })\r\n      this.GET_MYFANCE({\r\n        params: {\r\n          page: this.MY_FANCE_OBJECT_LIST.MY_FANCE_PAGE\r\n        }\r\n      }).then( data => {\r\n        this.$Indicator.close()\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    computed: mapState([\r\n      'MY_FANCE_OBJECT_LIST'\r\n    ])\r\n  }\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scoped>\r\n  section{\r\n    height: 100vh;\r\n  }\r\n  \r\n  /* 关注列表 START */\r\n  .attention_item {\r\n    position: relative;\r\n    display: -webkit-flex;\r\n    display: flex;\r\n    background-color: #fff;\r\n    height: 150px;\r\n    overflow: hidden;\r\n  }\r\n  .attention_item>div:nth-child(1) {\r\n    -webkit-box-flex: 7;\r\n    flex: 7;\r\n    padding-left: 20px;\r\n  }\r\n  .attention_item>div:nth-child(1)>img {\r\n    width: 100px;\r\n    float: left;\r\n    height: 100px;\r\n    border-radius: 50%;\r\n    margin-right: 20px;\r\n  }\r\n  .attention_item>div:nth-child(1)>div {\r\n    padding: 20px 0 0 20px;\r\n    &>a{\r\n      font-size: 25px;\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n      width: 350px;\r\n      display: inline-block;\r\n      &:nth-child(1){\r\n        font-weight: 600;\r\n        font-size: 30px;\r\n      }\r\n      &:nth-child(3){\r\n        color: #777;\r\n      }\r\n    }\r\n  }\r\n  .attention_item>div:nth-child(2) {\r\n    -webkit-box-flex: 3;\r\n    flex: 3;\r\n  }\r\n  .attention_item>div:nth-child(2)>a {\r\n    border-radius: 0;\r\n    width: 100px;\r\n    height: 70px;\r\n    display: inline-block;\r\n    line-height: 70px;\r\n    padding: 0 .3125rem;\r\n    text-align: center;\r\n    font-size: 30px;\r\n  }\r\n  .note>a {\r\n    background-color: #3fb140;\r\n    color: #fff;\r\n    border: 3px solid #3fb140 !important;\r\n    margin: 20px 0 0 30px;\r\n  }\r\n  .notes>a{\r\n    background-color: #fff;\r\n    color: #666;\r\n    border: 3px solid #666 !important;\r\n    margin: 20px 0 0 30px;\r\n  }\r\n  /* 关注列表 END */\r\n  .plane {\r\n    width: 40px;\r\n    vertical-align: middle;\r\n    padding: 0 .3125rem;\r\n  }\r\n  .noWrapper{\r\n    text-align: center;\r\n    &>img{\r\n      width: 400px;\r\n      margin: 40px 0 20px 0;\r\n    }\r\n    color: #aaa;\r\n    font-size: 30px;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/mine/myFance.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[(!_vm.MY_FANCE_OBJECT_LIST.MY_FANCE_LIST.length)?_c('p',{staticClass:\"noWrapper\"},[_c('img',{attrs:{\"src\":require(\"../../assets/img/da.png\"),\"alt\":\"没有关注的课程哦~\"}}),_c('br'),_vm._v(\"暂时还没有内容~~宝宝先看看别的~~\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.MY_FANCE_OBJECT_LIST.MY_FANCE_LIST),function(item,index){return _c('div',{key:index,staticClass:\"attention_item\"},[_c('div',[_c('img',{attrs:{\"src\":item.avatar,\"alt\":\"头像\"}}),_vm._v(\" \"),_c('div',{staticClass:\"teacher_base_info\"},[_c('a',[_vm._v(_vm._s(item.nickname))]),_c('br'),_vm._v(\" \"),_c('a',{staticClass:\"home_work\"},[_vm._v(_vm._s(item.introduction))])])]),_vm._v(\" \"),(item.isFollowed == 'N')?_c('div',{staticClass:\"note\",on:{\"click\":function($event){_vm.to_flow(item)}}},[_c('a',[_vm._v(\"关注\")])]):_vm._e(),_vm._v(\" \"),(item.isFollowed == 'Y')?_c('div',{staticClass:\"notes\",on:{\"click\":function($event){_vm.flowed(item)}}},[_c('a',[_vm._v(\"已关注\")])]):_vm._e()])}),_vm._v(\" \"),_c('transition',{attrs:{\"enter-active-class\":\"zoomIn\",\"leave-active-class\":\"zoomOut\"}},[(_vm.showSuccess)?_c('success',{staticClass:\"animated\",attrs:{\"title\":_vm.successTitle}}):_vm._e()],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-625b62bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/mine/myFance.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-625b62bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./myFance.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./myFance.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./myFance.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-625b62bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./myFance.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-625b62bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/mine/myFance.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}