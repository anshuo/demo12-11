{"version":3,"sources":["webpack:///src/components/commentModal.vue","webpack:///./src/components/commentModal.vue?e16f","webpack:///./src/components/commentModal.vue","webpack:///src/pages/workArea/replayComment.vue","webpack:///./src/pages/workArea/replayComment.vue?2f5f","webpack:///./src/pages/workArea/replayComment.vue"],"names":["commentModal","props","components","emojiCom","data","textareaData","showEmojiStatus","commentReg","computed","fontNum","this","length","substr","LOGIN_USER_OBJECT_JOIN","$store","state","userModule","LOGIN_USER_OBJECT","roleList","mounted","$refs","textAreaRef","focus","methods","changeOptionStatus","$emit","showEmojiModal","getEmoji","publishCommentContent","_this","test","$Toast","message","position","duration","workDetail","doCommentStatus","$Indicator","open","text","spinnerType","dataResult","jobcompletionId","content","commentId","axios","post","then","close","status","params","userId","result","avatar","user","startsWith","productURL","commentTime","commentContent","nickName","nickname","commentType","jobcommentId","userRoleList","routers","$route","fullPath","commit","catch","err","components_commentModal","render","_vm","_h","$createElement","_c","_self","staticClass","on","touchmove","$event","preventDefault","click","_v","directives","name","rawName","value","expression","ref","attrs","autofocus","rows","cols","id","maxlength","domProps","input","target","composing","_s","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","Object","vuex_esm","mapState","mapMutations","mapActions","replayComment","headerNavBack","emoji","login","centerTitle","replayObj","page","pageSize","commentObj","replayCommentList","commentInputValue","placeholder","audioImg","showLoginModal","audioPlayStatus","audioPlayingImg","audioLoop","showRangComment","replayPer","pageStatus","destroyed","clearInterval","changeFooterStatus","assign_default","comment","unshift","type","query","index","workRangeModule","resultData","parentComment","WORK_RANGE_HEAT_OBJECT","WORK_HEAT_LIST","commentList","commentNum","WORK_RANGE_COMM_OBJECT","WORK_COMM_LIST","WORK_RANGE_MINE_OBJECT","WORK_MINE_LIST","showDialogEvent","info","playAudio","audioOption","paused","play","setInterval","pause","delJobCommentById","item","_this2","splice","_index","forEach","ele","index_","dropDown","_this3","loading","get","hideLoading","list","concat","element","_this4","window","onscroll","scrollEvent","replyParentComment","workArea_replayComment","src","alt","audioLength","innerHTML","convertEmotions","_f","_l","commentItem","key","replyCount"],"mappings":"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","file":"static/js/12.c0e63d805f0d1ab5be39.js","sourcesContent":["<style lang=\"less\" scoped>\r\n@import url('../assets/css/comment.less');\r\n</style>\r\n<style>\r\n.all-emoji-list{\r\n\tmargin-left: 25px;\r\n}\r\n</style>\r\n\r\n<template>\r\n\t<div class=\"comment-container\" @touchmove.prevent>\r\n\t\t<div @click=\"changeOptionStatus\" class=\"comment-bg\"></div>\r\n\t\t\t<div class=\"comment-wrapper\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span class=\"comment-close-modal\" @click=\"changeOptionStatus\">×</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<textarea name=\"commentModal\" autofocus ref=\"textAreaRef\" rows=\"7\" cols=\"35\" id=\"commentModal\" autofocus maxlength=\"150\" v-model=\"textareaData\"></textarea>\r\n\t\t\t\t<div class=\"comment-footer\">\r\n\t\t\t\t\t<div><span >{{fontNum}}</span>/150</div>\r\n\t\t\t\t\t<div><span @click=\"showEmojiModal\" class=\"emoji-bg\"></span><span @click=\"publishCommentContent\">发布</span></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<emoji-com v-if=\"showEmojiStatus\" @getEmoji=\"getEmoji\"></emoji-com>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport emojiCom from '@/components/emoji'\r\nexport default {\r\n\tprops: [\r\n\t\t'workDetail'\r\n\t],\r\n\tcomponents: {\r\n\t\temojiCom\r\n\t},\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\ttextareaData: '',\r\n\t\t\tshowEmojiStatus: false,\r\n\t\t\tcommentReg: /^[\\s]*$/\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tfontNum(){\r\n\t\t\tif(150 - this.textareaData.length > 0){\r\n\t\t\t\treturn this.textareaData.length\r\n\t\t\t}else{\r\n\t\t\t\tthis.textareaData = this.textareaData.substr(0, 150)\r\n\t\t\t\treturn 150\r\n\t\t\t}\r\n\t\t},\r\n\t\tLOGIN_USER_OBJECT_JOIN(){\r\n\t\t\treturn this.$store.state.userModule.LOGIN_USER_OBJECT.roleList\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tthis.$refs.textAreaRef.focus()\r\n\t},\r\n\tmethods: {\r\n\t\tchangeOptionStatus(){\r\n\t\t\tthis.$emit('changeOptionStatus', false)\r\n\t\t\tthis.showEmojiStatus = false\r\n\t\t},\r\n\t\tshowEmojiModal(){\r\n\t\t\tthis.showEmojiStatus = !this.showEmojiStatus\r\n\t\t},\r\n\t\tgetEmoji(data){\r\n\t\t\tthis.textareaData += data \r\n\t\t},\r\n\t\tpublishCommentContent(){\r\n\r\n\t\t\tif(this.commentReg.test(this.textareaData)){\r\n\t\t\t\tthis.$Toast({\r\n\t\t\t\t\tmessage: \"请输入内容\",\r\n\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif(this.workDetail.doCommentStatus){\r\n\r\n\t\t\t\tthis.workDetail.doCommentStatus = false\r\n\r\n\t\t\t\tthis.$Indicator.open({\r\n\t\t\t\t\ttext: \"评论中...\",\r\n\t\t\t\t\tspinnerType: \"fading-circle\"\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet dataResult = {\r\n\t\t\t\t\tjobcompletionId: this.workDetail.jobcompletionId,\r\n\t\t\t\t\tcontent: this.textareaData\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(this.workDetail && this.workDetail.commentId){\r\n\t\t\t\t\tdataResult['commentId'] = this.workDetail.commentId\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.axios.post(\"/api/saveJobsComment\", dataResult).then(data => {\r\n\t\t\t\t\tthis.workDetail.doCommentStatus = true\r\n\t\t\t\t\tthis.$Indicator.close()\r\n\t\t\t\t\tif (data.data.status === \"success\") {\r\n\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\tuserId: data.data.result.userId,\r\n\t\t\t\t\t\t\tavatar: data.data.result.user.avatar.startsWith('http') ? data.data.result.user.avatar : `${this.productURL}/${data.data.result.user.avatar}`,\r\n\t\t\t\t\t\t\tcommentTime: data.data.result.commentTime,\r\n\t\t\t\t\t\t\tcontent: data.data.result.commentContent,\r\n\t\t\t\t\t\t\tjobcompletionId: data.data.result.jobcompletionId,\r\n\t\t\t\t\t\t\tnickName: data.data.result.user.nickname,\r\n\t\t\t\t\t\t\tcommentType: \"TEXT\",\r\n\t\t\t\t\t\t\tcommentId: data.data.result.jobcommentId,\r\n\t\t\t\t\t\t\tuserRoleList: this.LOGIN_USER_OBJECT_JOIN\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$emit('changeOptionStatus', params)\r\n\t\t\t\t\t\tthis.$Toast({\r\n\t\t\t\t\t\t\tmessage: \"评论成功\",\r\n\t\t\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\tlet routers = this.$route.fullPath\r\n\r\n\t\t\t\t\t\tthis.$store.commit('cleanAboutAndMine', routers)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$Toast({\r\n\t\t\t\t\t\t\tmessage: data.data.result,\r\n\t\t\t\t\t\t\tposition: \"middle\",\r\n\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/commentModal.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-container\",on:{\"touchmove\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"comment-bg\",on:{\"click\":_vm.changeOptionStatus}}),_vm._v(\" \"),_c('div',{staticClass:\"comment-wrapper\"},[_c('div',[_c('span',{staticClass:\"comment-close-modal\",on:{\"click\":_vm.changeOptionStatus}},[_vm._v(\"×\")])]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.textareaData),expression:\"textareaData\"}],ref:\"textAreaRef\",attrs:{\"name\":\"commentModal\",\"autofocus\":\"\",\"rows\":\"7\",\"cols\":\"35\",\"id\":\"commentModal\",\"autofocus\":\"\",\"maxlength\":\"150\"},domProps:{\"value\":(_vm.textareaData)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.textareaData=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"comment-footer\"},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.fontNum))]),_vm._v(\"/150\")]),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"emoji-bg\",on:{\"click\":_vm.showEmojiModal}}),_c('span',{on:{\"click\":_vm.publishCommentContent}},[_vm._v(\"发布\")])])])]),_vm._v(\" \"),(_vm.showEmojiStatus)?_c('emoji-com',{on:{\"getEmoji\":_vm.getEmoji}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3cf5a08a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/commentModal.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3cf5a08a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./commentModal.vue\")\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3cf5a08a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!../../node_modules/vue-loader/lib/selector?type=styles&index=1!./commentModal.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./commentModal.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./commentModal.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3cf5a08a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./commentModal.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3cf5a08a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/commentModal.vue\n// module id = null\n// module chunks = ","<style lang=\"less\" scoped>\r\n.comment-container{\r\n  overflow-x: hidden;\r\n  width: 100%;\r\n  padding-bottom: 100px;\r\n  background-color: #fff;\r\n  min-height: 100vh;\r\n  &>div{\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    margin-top: 20px;\r\n    padding-left: 30px;\r\n    position: relative;\r\n    box-sizing: border-box;\r\n    &::after{\r\n      position: absolute;\r\n      bottom: 0;\r\n      right: -20px;\r\n      width: 84%;\r\n      content: '';\r\n      height: 2px;\r\n      background-color: #ddd;\r\n    }\r\n    &>div{\r\n      padding-left: 20px;\r\n      &:nth-child(1){\r\n        flex: 1;\r\n        &>img{\r\n          width: 70px;\r\n          height: 70px;\r\n          border-radius: 50%;\r\n        }\r\n      }\r\n      &:nth-child(2){\r\n        flex: 7;\r\n        &>span{\r\n          display: block;\r\n          font-size: 30px;\r\n          &:nth-child(2){\r\n            padding: 18px 0;\r\n            vertical-align: middle;\r\n            &.audioClass{\r\n              color: #3eb140;\r\n            }\r\n            &>img{\r\n              width: 122px;\r\n              height: 44px;\r\n              vertical-align: middle;\r\n              margin-right: 20px;\r\n            }\r\n          }\r\n        }\r\n        &>p{\r\n          margin: 0;\r\n          padding: 0 0 20px 0;\r\n          font-size: 26px;\r\n          color: #969696;\r\n          &>span:nth-child(2){\r\n            &:nth-child(1){\r\n              font-size: 26px;\r\n              color: #969696;\r\n            }\r\n          &>b:nth-child(2){\r\n            margin-left: 10px;\r\n            font-weight: normal;\r\n            min-height: 20px;\r\n            min-width: 20px;\r\n            text-align: center;\r\n            display: inline-block;\r\n            color: #fefefe;\r\n            font-size: 20px;\r\n            background-color: #979797;\r\n            border-radius: 50%;\r\n            padding: 0 5px 0 5px;\r\n          }\r\n        }\r\n        }\r\n      }\r\n      &:nth-child(3){\r\n        font-size: 26px;\r\n        flex: 2;\r\n        color: #969696;\r\n      }\r\n    }\r\n  }\r\n}\r\n.bottom-comment-options{\r\n  position: fixed;\r\n  bottom: 0;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  min-height: 100px;\r\n  background-color: #fff;\r\n  width: 100%;\r\n  z-index: 5;\r\n  &>div{\r\n    text-align: center;\r\n    &:nth-child(1){\r\n      flex: 7;\r\n      text-align: right;\r\n      &>textarea{\r\n        min-height: 50px;\r\n        height: auto;\r\n        border: none;\r\n        border: 0;\r\n        outline: none;\r\n        border-left: 4px solid #3eb140;\r\n        padding-left: 20px;\r\n        width: 400px;\r\n        resize: none;\r\n        overflow-y:visible\r\n      }\r\n    }\r\n    &:nth-child(2){\r\n      flex: 1;\r\n      &>img{\r\n        width: 50px;\r\n        height: 50px;\r\n      }\r\n    }\r\n    &:nth-child(3){\r\n      flex: 2;\r\n      color: #3eb140;\r\n      font-size: 30px;\r\n    }\r\n  }\r\n}\r\n.replay-comment-footer{\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  text-align: left;\r\n  padding-left: 20px;\r\n  font-size: 30px;\r\n  color: #aaa;\r\n  background: #fff;\r\n  height: 80px;\r\n  line-height: 80px;\r\n}\r\n@media screen and (min-width: 1000px){\r\n  .replay-comment-footer{\r\n    width: 1020px;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n  }\r\n}\r\n</style>\r\n<style>\r\n  .emoji-convert>img {\r\n    width: 50px;\r\n    height: 50px;\r\n    vertical-align: middle;\r\n  }\r\n</style>\r\n\r\n<template>\r\n    <div>\r\n      <header-nav-back :centerTitle=\"centerTitle\"></header-nav-back>\r\n      <div class=\"comment-container\">\r\n        <div>\r\n          <div><img :src=\"commentObj && commentObj.avatar\" alt=\"头像\"></div>\r\n          <div>\r\n            <span>{{commentObj && commentObj.nickName}}</span>\r\n            <span @click=\"playAudio\" class=\"audioClass\" v-if=\"commentObj && commentObj.commentType === 'AUDIO'\">\r\n              <img :src=\"!audioPlayStatus ? audioImg : audioPlayingImg\" alt=\"音频播放\">{{commentObj && commentObj.audioLength}}\"\r\n              <audio ref=\"audioOption\" :src=\"commentObj && commentObj.content\"></audio>\r\n            </span>\r\n            <span class=\"emoji-convert\" v-if=\"commentObj && commentObj.commentType === 'TEXT'\" v-html=\"convertEmotions(commentObj && commentObj.content)\"></span>\r\n            <p>\r\n              <span>{{commentObj && commentObj.commentTime | datePoint}}</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"replayCommentList && replayCommentList.length > 0\" v-for=\"(commentItem, index) in replayCommentList\" :key=\"index\">\r\n          <div><img :src=\"commentItem.avatar\" alt=\"头像\"></div>\r\n          <div>\r\n            <span>{{commentItem.nickName}}</span>\r\n            <span class=\"emoji-convert\" v-if=\"commentItem.commentType === 'TEXT'\" v-html=\"convertEmotions(commentItem.content)\"></span>\r\n            <p>\r\n              <span>{{commentItem.commentTime | datePoint}}</span>\r\n              <span v-if=\"commentItem.replyCount === 0 && (LOGIN_USER_OBJECT && LOGIN_USER_OBJECT.user.userId !== commentItem.userId) || !LOGIN_USER_OBJECT\">回复</span>\r\n              <span v-if=\"commentItem.replyCount >= 1\"><b v-if=\"(LOGIN_USER_OBJECT && LOGIN_USER_OBJECT.user.userId !== commentItem.userId) || !LOGIN_USER_OBJECT\">回复</b><b>{{commentItem.replyCount}}</b></span>\r\n            </p>\r\n          </div>\r\n          <div @click=\"delJobCommentById(commentItem, index)\" v-if=\"LOGIN_USER_OBJECT && LOGIN_USER_OBJECT.user.userId === commentItem.userId\">删除</div>\r\n        </div>\r\n      </div>\r\n      <comment-modal :workDetail=\"commentObj\" v-if=\"showRangComment\" @changeOptionStatus=\"changeOptionStatus\"></comment-modal>\r\n      <login v-if=\"showLoginModal && !LOGIN_USER_OBJECT\" @showDialogEvent=\"showDialogEvent\"></login>\r\n      <section @click=\"changeFooterStatus\" class=\"replay-comment-footer\">\r\n        回复@{{replayPer}}\r\n      </section>\r\n    </div>\r\n</template>\r\n<script>\r\nimport headerNavBack from '@/components/headerNavBack'\r\nimport emoji from '@/components/emoji'\r\nimport { createNamespacedHelpers } from 'vuex'\r\n  const { mapMutations, mapActions, mapState} = createNamespacedHelpers('userModule')\r\nimport login from '@/components/login'\r\nimport commentModal from '@/components/commentModal'\r\nexport default {\r\n  components: {\r\n    headerNavBack,\r\n    emoji,\r\n    login,\r\n    commentModal\r\n  },\r\n  data () {\r\n    return {\r\n      centerTitle: '回复',\r\n      replayObj: {\r\n        page: 1,\r\n        pageSize: 5\r\n      },\r\n      commentObj: null,\r\n      // 评论列表\r\n      replayCommentList: [],\r\n      commentInputValue: '',\r\n      // 底部的显示信息\r\n      placeholder: '',\r\n      audioImg: require('../../assets/img/yuwoxiangguan_yuyin.png'),\r\n      // 显示登录Modal\r\n      showLoginModal: 0,\r\n      audioPlayStatus: 0,\r\n      audioPlayingImg: require('../../assets/img/sound.gif'),\r\n      // 语音播放\r\n      audioLoop: null,\r\n      // 显示commentModal\r\n      showRangComment: false,\r\n      // 回复@信息\r\n      replayPer: '',\r\n      // 分页状态\r\n      pageStatus: true\r\n    }\r\n  },\r\n  computed: mapState([\r\n    'LOGIN_USER_OBJECT'\r\n  ]),\r\n  destroyed () {\r\n    clearInterval(this.audioLoop)\r\n  },\r\n  methods: {\r\n    changeFooterStatus(){\r\n      if (!this.LOGIN_USER_OBJECT) {\r\n        this.showLoginModal = 1\r\n        return\r\n      }\r\n      this.showRangComment = true\r\n      this.commentObj = Object.assign(this.commentObj, {\r\n        doCommentStatus: true\r\n      })\r\n    },\r\n    changeOptionStatus(comment){\r\n\r\n      if(typeof comment === 'boolean'){\r\n        this.showRangComment = false\r\n        return\r\n      }\r\n\r\n      this.replayCommentList.unshift(comment)\r\n      \r\n      this.showRangComment = false\r\n\r\n      let type = this.$route.query.type\r\n      let index = this.$route.query.index\r\n      let workRangeModule = this.$store.state.workRangeModule\r\n\r\n      let resultData = {\r\n        comment: comment,\r\n        parentComment: this.commentObj\r\n      }\r\n      switch (type) {\r\n        case 'hot':\r\n          if(workRangeModule.WORK_RANGE_HEAT_OBJECT.WORK_HEAT_LIST.length > 0){\r\n            workRangeModule.WORK_RANGE_HEAT_OBJECT.WORK_HEAT_LIST[index].commentList.unshift( resultData )\r\n            ++workRangeModule.WORK_RANGE_HEAT_OBJECT.WORK_HEAT_LIST[index].commentNum\r\n          }\r\n          break;\r\n        case 'new':\r\n          if(workRangeModule.WORK_RANGE_COMM_OBJECT.WORK_COMM_LIST.length > 0){\r\n            workRangeModule.WORK_RANGE_COMM_OBJECT.WORK_COMM_LIST[index].commentList.unshift( resultData )\r\n            ++workRangeModule.WORK_RANGE_HEAT_OBJECT.WORK_COMM_LIST[index].commentNum\r\n          }\r\n          break;\r\n        case 'mine':\r\n          if(workRangeModule.WORK_RANGE_MINE_OBJECT.WORK_MINE_LIST.length > 0){\r\n            workRangeModule.WORK_RANGE_MINE_OBJECT.WORK_MINE_LIST[index].commentList.unshift( resultData )\r\n            ++workRangeModule.WORK_RANGE_HEAT_OBJECT.WORK_MINE_LIST[index].commentNum\r\n          }\r\n          break;\r\n      }\r\n    },\r\n    showDialogEvent(info){\r\n      console.log(info)\r\n      this.showLoginModal = info\r\n    },\r\n    // 播放音频\r\n    playAudio(info){\r\n      if(this.$refs.audioOption.paused){\r\n        this.audioPlayStatus = 1\r\n        this.$refs.audioOption.play()\r\n        this.audioLoop = setInterval(() =>{\r\n          if(this.$refs.audioOption.paused){\r\n            this.audioPlayStatus = 0\r\n            clearInterval(this.audioLoop)\r\n          }\r\n        }, 1000)\r\n      }else{\r\n        this.audioPlayStatus = 0\r\n        this.$refs.audioOption.pause()\r\n      }\r\n    },\r\n    // 删除评论\r\n    delJobCommentById(item, index){\r\n      this.$Toast({\r\n        message: '删除成功',\r\n        position: 'middle',\r\n        duration: 1000\r\n      })\r\n      this.replayCommentList.splice(index, 1)\r\n      this.axios.post('/api/delJobCommentById', {\r\n        commentId: item.commentId\r\n      }).then(data => {\r\n        if(data.data.status === 'success'){\r\n          let type = this.$route.query.type\r\n          let index = this.$route.query.index\r\n          let workRangeModule = this.$store.state.workRangeModule\r\n          switch(type){\r\n            case 'hot':\r\n              let WORK_HEAT_LIST = workRangeModule.WORK_RANGE_HEAT_OBJECT.WORK_HEAT_LIST\r\n              if(WORK_HEAT_LIST.length > 0){\r\n                WORK_HEAT_LIST[index].commentList.forEach((ele, index_) => {\r\n                  ele.comment.commentId === item.commentId ? WORK_HEAT_LIST[index].commentList.splice(index_, 1) : ''\r\n                })\r\n                --WORK_HEAT_LIST[index].commentNum\r\n              }\r\n              break;\r\n            case 'new':\r\n              let WORK_COMM_LIST = workRangeModule.WORK_RANGE_COMM_OBJECT.WORK_COMM_LIST\r\n              if(WORK_COMM_LIST.length > 0){\r\n                WORK_COMM_LIST[index].commentList.forEach((ele, index_) => {\r\n                  ele.comment.commentId === item.commentId ? WORK_COMM_LIST[index].commentList.splice(index_, 1) : ''\r\n                })\r\n                --WORK_COMM_LIST[index].commentNum\r\n              }\r\n              break;\r\n            case 'mine':\r\n              let WORK_MINE_LIST = workRangeModule.WORK_RANGE_MINE_OBJECT.WORK_MINE_LIST\r\n              if(WORK_MINE_LIST.length > 0){\r\n                WORK_MINE_LIST[index].commentList.forEach((ele, index_) => {\r\n                  ele.comment.commentId === item.commentId ? WORK_MINE_LIST[index].commentList.splice(index_, 1) : ''\r\n                })\r\n                --WORK_MINE_LIST[index].commentNum\r\n              }\r\n              break;\r\n          }\r\n\r\n        }else{\r\n          this.$Toast({\r\n            message: '操作异常, 请稍后重试',\r\n            position: 'middle',\r\n            duration: 1000\r\n          })\r\n        }\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    dropDown(){\r\n      if(this.pageStatus){\r\n        this.loading()\r\n        this.pageStatus = !this.pageStatus\r\n        this.axios.get('/api/getCommentList', {\r\n          params: {\r\n            jobcompletionId: this.$route.params.jobcompletionId,\r\n            commentId: this.$route.params.commentId,\r\n            page: ++this.replayObj.page,\r\n            pageSize: this.replayObj.pageSize\r\n          }\r\n        }).then(data => {\r\n          this.pageStatus = !this.pageStatus\r\n          if(data.data.status === 'success'){\r\n            this.hideLoading()\r\n            if(data.data.result.list.length > 0){\r\n              this.replayCommentList = this.replayCommentList.concat(data.data.result.list)\r\n              this.replayCommentList.forEach(element => {\r\n                if(!element.avatar.startsWith('http')){\r\n                  element.avatar = this.productURL + element.avatar\r\n                }\r\n              })\r\n            }else{\r\n          \r\n              this.hideLoading()\r\n              this.pageStatus = false\r\n              this.$Toast({\r\n                message: '没有更多了',\r\n                position: 'middle',\r\n                duration: 1000\r\n              })\r\n            }\r\n          }\r\n        }).catch(err => {\r\n          console.log(err)\r\n        })\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n\r\n    window.onscroll = () => {\r\n      if(this.scrollEvent()){\r\n        this.dropDown()\r\n      }\r\n    }\r\n\r\n    this.$route.query['@'] ? this.replayPer = this.$route.query['@'] : ''\r\n\r\n    this.axios.get('/api/getCommentList', {\r\n      params: {\r\n        jobcompletionId: this.$route.params.jobcompletionId,\r\n        commentId: this.$route.params.commentId,\r\n        page: this.replayObj.page,\r\n        pageSize: this.replayObj.pageSize\r\n      }\r\n    }).then(data => {\r\n      if(data.data.status === 'success'){\r\n        this.replayCommentList = data.data.result.list\r\n        this.commentObj = data.data.result.replyParentComment\r\n        this.replayCommentList.forEach(element => {\r\n          if(!element.avatar.startsWith('http')){\r\n            element.avatar = this.productURL + element.avatar\r\n          }\r\n        })\r\n        if(!this.commentObj.avatar.startsWith('http')){\r\n          this.commentObj.avatar = this.productURL + this.commentObj.avatar\r\n        }\r\n      }\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/workArea/replayComment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('header-nav-back',{attrs:{\"centerTitle\":_vm.centerTitle}}),_vm._v(\" \"),_c('div',{staticClass:\"comment-container\"},[_c('div',[_c('div',[_c('img',{attrs:{\"src\":_vm.commentObj && _vm.commentObj.avatar,\"alt\":\"头像\"}})]),_vm._v(\" \"),_c('div',[_c('span',[_vm._v(_vm._s(_vm.commentObj && _vm.commentObj.nickName))]),_vm._v(\" \"),(_vm.commentObj && _vm.commentObj.commentType === 'AUDIO')?_c('span',{staticClass:\"audioClass\",on:{\"click\":_vm.playAudio}},[_c('img',{attrs:{\"src\":!_vm.audioPlayStatus ? _vm.audioImg : _vm.audioPlayingImg,\"alt\":\"音频播放\"}}),_vm._v(_vm._s(_vm.commentObj && _vm.commentObj.audioLength)+\"\\\"\\n          \"),_c('audio',{ref:\"audioOption\",attrs:{\"src\":_vm.commentObj && _vm.commentObj.content}})]):_vm._e(),_vm._v(\" \"),(_vm.commentObj && _vm.commentObj.commentType === 'TEXT')?_c('span',{staticClass:\"emoji-convert\",domProps:{\"innerHTML\":_vm._s(_vm.convertEmotions(_vm.commentObj && _vm.commentObj.content))}}):_vm._e(),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(_vm._s(_vm._f(\"datePoint\")(_vm.commentObj && _vm.commentObj.commentTime)))])])])]),_vm._v(\" \"),_vm._l((_vm.replayCommentList),function(commentItem,index){return (_vm.replayCommentList && _vm.replayCommentList.length > 0)?_c('div',{key:index},[_c('div',[_c('img',{attrs:{\"src\":commentItem.avatar,\"alt\":\"头像\"}})]),_vm._v(\" \"),_c('div',[_c('span',[_vm._v(_vm._s(commentItem.nickName))]),_vm._v(\" \"),(commentItem.commentType === 'TEXT')?_c('span',{staticClass:\"emoji-convert\",domProps:{\"innerHTML\":_vm._s(_vm.convertEmotions(commentItem.content))}}):_vm._e(),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(_vm._s(_vm._f(\"datePoint\")(commentItem.commentTime)))]),_vm._v(\" \"),(commentItem.replyCount === 0 && (_vm.LOGIN_USER_OBJECT && _vm.LOGIN_USER_OBJECT.user.userId !== commentItem.userId) || !_vm.LOGIN_USER_OBJECT)?_c('span',[_vm._v(\"回复\")]):_vm._e(),_vm._v(\" \"),(commentItem.replyCount >= 1)?_c('span',[((_vm.LOGIN_USER_OBJECT && _vm.LOGIN_USER_OBJECT.user.userId !== commentItem.userId) || !_vm.LOGIN_USER_OBJECT)?_c('b',[_vm._v(\"回复\")]):_vm._e(),_c('b',[_vm._v(_vm._s(commentItem.replyCount))])]):_vm._e()])]),_vm._v(\" \"),(_vm.LOGIN_USER_OBJECT && _vm.LOGIN_USER_OBJECT.user.userId === commentItem.userId)?_c('div',{on:{\"click\":function($event){_vm.delJobCommentById(commentItem, index)}}},[_vm._v(\"删除\")]):_vm._e()]):_vm._e()})],2),_vm._v(\" \"),(_vm.showRangComment)?_c('comment-modal',{attrs:{\"workDetail\":_vm.commentObj},on:{\"changeOptionStatus\":_vm.changeOptionStatus}}):_vm._e(),_vm._v(\" \"),(_vm.showLoginModal && !_vm.LOGIN_USER_OBJECT)?_c('login',{on:{\"showDialogEvent\":_vm.showDialogEvent}}):_vm._e(),_vm._v(\" \"),_c('section',{staticClass:\"replay-comment-footer\",on:{\"click\":_vm.changeFooterStatus}},[_vm._v(\"\\n    回复@\"+_vm._s(_vm.replayPer)+\"\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d07caee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/workArea/replayComment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0d07caee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./replayComment.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0d07caee\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./replayComment.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./replayComment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./replayComment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0d07caee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./replayComment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0d07caee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/workArea/replayComment.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}