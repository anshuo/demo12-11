webpackJsonp([36],{"/LGZ":function(t,s){},"1xOc":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("Dd8w"),o=e.n(i),a=e("K31e"),c=e("NYxO"),n=Object(c.a)("homeModule"),r=(n.mapMutations,n.mapActions),l=(n.mapState,{components:{login:a.a},data:function(){return{courses_list:[],vip_list:[],collection:e("k3ix"),flowed:e("9v2m"),back_img:e("Jl9t"),showList:!0,searchList:[],isSearch:!1,showLoginModal:0,page:1,vipImg:e("Q8qA"),falgNoData:!1,pagination:!0,showData:!1,defaultCoverImg:e("bgnc")}},computed:{LOGIN_USER_OBJECT:function(){return this.$store.state.userModule.LOGIN_USER_OBJECT}},watch:{LOGIN_USER_OBJECT:function(t){var s=this;t&&(this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.GET_SEARCH_COURSES().then(function(t){"没有更多课程了"!=t.data?(s.courses_list=t.data,s.courses_list.forEach(function(t){t&&t.coverImage&&-1==t.coverImage.indexOf("http")&&(t.coverImage=s.productURL+t.coverImage)}),window.onscroll=function(){s.dropDown()}):s.courses_list=[]}).catch(function(t){}),this.GET_SEARCH_VIP({page:this.page}).then(function(t){"没有更多课程了"==t.data?s.vip_list=[]:(s.vip_list=t.data,s.vip_list.forEach(function(t){t.coverImage&&-1==t.coverImage.indexOf("http")&&(t.coverImage=s.productURL+t.coverImage)})),s.$Indicator.close()}).catch(function(t){}))}},mounted:function(){var t,s,e,i=this;this.addEvent(this.$refs.searchWork,"input",(t=this.searchWorks,s=400,function(){var i=this,o=arguments;clearTimeout(e),e=setTimeout(function(){t.apply(i,o)},s)})),this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.GET_SEARCH_COURSES().then(function(t){"没有更多课程了"!=t.data?(i.courses_list=t.data,i.courses_list.forEach(function(t){t&&t.coverImage&&-1==t.coverImage.indexOf("http")&&(t.coverImage=i.productURL+t.coverImage)}),window.onscroll=function(){i.dropDown()}):i.courses_list=[]}).catch(function(t){}),this.GET_SEARCH_VIP({page:this.page}).then(function(t){"没有更多课程了"==t.data?i.vip_list=[]:(i.vip_list=t.data,i.vip_list.forEach(function(t){t.coverImage&&-1==t.coverImage.indexOf("http")&&(t.coverImage=i.productURL+t.coverImage)})),i.$Indicator.close()}).catch(function(t){})},methods:o()({},r(["GET_SEARCH_COURSES","GET_SEARCH_VIP","COURSES_ADD","COURSES_DELETE","SEARCH_COURSES"]),{dropDown:function(){var t=this,s=Math.max(document.body.scrollHeight,document.body.offsetHeight),e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.falgNoData||s-e-i==0&&this.pagination&&(this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.page+=1,this.falgNoData=!0,this.GET_SEARCH_VIP({page:this.page}).then(function(s){t.pagination&&("没有更多课程了"!==s.data?(t.vip_list=t.vip_list.concat(s.data),t.$Indicator.close(),t.falgNoData=!1):(t.$Indicator.close(),t.$Toast({message:"没有更多课程了",position:"middle",duration:1e3}),t.pagination=!1,t.showData=!0,t.falgNoData=!0))}).catch(function(t){}))},showDialogEvent:function(t){this.showLoginModal=t},favorite:function(t){var s=this;if(this.LOGIN_USER_OBJECT)for(var e in"N"==t.isFollowed?this.COURSES_ADD({courseId:t.courseId}).then(function(e){"添加成功"==e.data&&(s.$set(t,"isFollowed","Y"),s.$Toast({message:e.data,position:"middle",duration:1e3}))}).catch(function(t){}):this.COURSES_DELETE({courseId:t.courseId}).then(function(e){"移除成功"==e.data&&(s.$Toast({message:e.data,position:"middle",duration:1e3}),s.$set(t,"isFollowed","N"))}).catch(function(t){}),this.$store.state.homeModule)this.$store.state.homeModule[e]=[];else this.showLoginModal=1},__enterCourse:function(t){this.LOGIN_USER_OBJECT?"LIVING"===t.liveStatus?this.$router.push({name:"live",params:{id:t.defaultLiveChannel,courseId:t.courseId}}):this.$Toast({message:"暂无直播",position:"middle",duration:500}):this.showLoginModal=1},__enterVipCourse:function(t){this.$router.push({name:"vipDetail",params:{id:t.courseId}})},back:function(){this.$router.go(-1)},cancel:function(){this.$refs.searchWork.value="",this.showList=!0},searchWorks:function(){var t=this;this.$refs.searchWork.value.trim().length>0?(this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.showList=!1,this.SEARCH_COURSES({title:this.$refs.searchWork.value.trim()}).then(function(s){t.isSearch=!0,t.searchList=s.data.result,"没有更多课程了"==s.data.result&&(t.searchList=[],t.$Toast({message:"找不到课程信息",position:"middle",duration:500})),t.$Indicator.close()}).catch(function(t){})):(this.showList=!0,this.isSearch=!1)}}),created:function(){}}),d={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"header"},[i("span",{on:{click:t.back}},[i("img",{attrs:{src:t.back_img,alt:"返回"}})]),t._v(" "),i("span",[i("input",{ref:"searchWork",staticClass:"searchWorks",attrs:{type:"text",name:"searchWorks",id:"search",placeholder:"搜索课程名称"}})]),t._v(" "),i("span",{on:{click:t.cancel}},[t._v("取消")])]),t._v(" "),i("div",{staticClass:"modal"},[t.showList?i("div",[t._v("试学课")]):t._e(),t._v(" "),t.showList?i("div",{staticClass:"course_flex"},t._l(t.courses_list,function(s,o){return i("div",{key:o,staticClass:"flex_middle",on:{click:function(e){e.stopPropagation(),t.__enterCourse(s)}}},[i("div",{staticClass:"course_header_img"},[i("img",{attrs:{src:s.coverImage?s.coverImage:t.defaultCoverImg,alt:s.keywords,title:s.keywords}})]),t._v(" "),i("div",[i("div",{staticClass:"title"},[t._v(t._s(s.title))])]),t._v(" "),i("div",{staticClass:"course_text_detail"},[i("div",[i("p",[t._v(t._s("LIVING"==s.liveStatus?"正在直播":"暂无直播"))]),t._v(" "),i("p",{staticClass:"course_text_detail_pad"},[i("img",{staticClass:"course_text_detail_pad_img",attrs:{src:e("Zvnl")}}),t._v(t._s(t._f("numFm")(s.totalStudent)))])]),t._v(" "),i("div",{staticClass:"coll"},[i("img",{staticClass:"collection collections",attrs:{src:"Y"==s.isFollowed?t.flowed:t.collection},on:{click:function(e){e.stopPropagation(),t.favorite(s)}}})])])])})):t._e(),t._v(" "),t.showList?i("div",{staticClass:"vip_course_item",staticStyle:{"margin-top":"30px"}},[i("img",{attrs:{src:t.vipImg,alt:"VIP课程"}})]):t._e(),t._v(" "),t.showList?i("div",{staticClass:"course_flex"},t._l(t.vip_list,function(s,o){return i("div",{key:o,staticClass:"flex_middle",on:{click:function(e){t.__enterVipCourse(s)}}},[i("div",{staticClass:"course_header_img course_header_img_vip"},[i("img",{attrs:{src:s.coverImage,alt:s.keywords,title:s.keywords}})]),t._v(" "),i("div",[i("div",{staticClass:"title"},[t._v(t._s(s.title))])]),t._v(" "),i("div",{staticClass:"course_text_detail"},[i("div",[i("p",[t._v("讲师："+t._s(s.teacherNicknames[0]))]),t._v(" "),i("p",{staticClass:"course_text_detail_pad"},[i("img",{staticClass:"course_text_detail_pad_img",attrs:{src:e("Zvnl")}}),t._v(t._s(t._f("numFm")(s.totalStudent)))])]),t._v(" "),i("div",{staticClass:"coll"},[i("img",{staticClass:"collection collections",attrs:{src:"Y"==s.isFollowed?t.flowed:t.collection},on:{click:function(e){e.stopPropagation(),t.favorite(s)}}})])])])})):t._e()]),t._v(" "),t.isSearch?i("div",{staticClass:"course_flex"},[t._l(t.searchList,function(s,o){return"VIP"!=s.courseType?i("div",{key:o,staticClass:"flex_middle",on:{click:function(e){t.__enterCourse(s)}}},[i("div",{staticClass:"course_header_img course_header_img_vip"},[i("img",{attrs:{src:s.coverImage,alt:s.keywords,title:s.keywords}})]),t._v(" "),i("div",[i("div",{staticClass:"title"},[t._v(t._s(s.title))])]),t._v(" "),i("div",{staticClass:"course_text_detail"},[i("div",[i("p",[t._v("讲师："+t._s(s.teacherNicknames[0]))]),t._v(" "),i("p",{staticClass:"course_text_detail_pad"},[i("img",{staticClass:"course_text_detail_pad_img",attrs:{src:e("Zvnl")}}),t._v(t._s(t._f("numFm")(s.totalStudent)))])]),t._v(" "),i("div",{staticClass:"coll"},[i("img",{staticClass:"collection collections",attrs:{src:"Y"==s.isFollowed?t.flowed:t.collection},on:{click:function(e){e.stopPropagation(),t.favorite(s)}}})])])]):t._e()}),t._v(" "),t._l(t.searchList,function(s,o){return"VIP"==s.courseType?i("div",{key:o,staticClass:"flex_middle",on:{click:function(e){t.__enterVipCourse(s)}}},[i("div",{staticClass:"course_header_img course_header_img_vip"},[i("img",{attrs:{src:s.coverImage,alt:s.keywords,title:s.keywords}})]),t._v(" "),i("div",[i("div",{staticClass:"title"},[t._v(t._s(s.title))])]),t._v(" "),i("div",{staticClass:"course_text_detail"},[i("div",[i("p",[t._v("讲师："+t._s(s.teacherNicknames[0]))]),t._v(" "),i("p",{staticClass:"course_text_detail_pad"},[i("img",{staticClass:"course_text_detail_pad_img",attrs:{src:e("Zvnl")}}),t._v(t._s(t._f("numFm")(s.totalStudent)))])]),t._v(" "),i("div",{staticClass:"coll"},[i("img",{staticClass:"collection collections",attrs:{src:"Y"==s.isFollowed?t.flowed:t.collection},on:{click:function(e){e.stopPropagation(),t.favorite(s)}}})])])]):t._e()})],2):t._e(),t._v(" "),!t.LOGIN_USER_OBJECT&&t.showLoginModal?i("login",{on:{showDialogEvent:t.showDialogEvent}}):t._e()],1)},staticRenderFns:[]};var _=e("VU/8")(l,d,!1,function(t){e("/LGZ")},"data-v-2011f241",null);s.default=_.exports},Q8qA:function(t,s,e){t.exports=e.p+"static/img/VIP.png"}});
//# sourceMappingURL=36.f1b9cd5d40912d5f8665.js.map