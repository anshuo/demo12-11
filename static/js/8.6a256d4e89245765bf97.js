webpackJsonp([8],{"9ZKk":function(t,e,s){t.exports=s.p+"static/img/turn.png"},B1zO:function(t,e,s){t.exports=s.p+"static/img/jerxuat3.png"},DkXp:function(t,e){},J3ug:function(t,e){t.exports="data:image/png;base64,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"},UKn2:function(t,e){},Vgsa:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAEz0lEQVRogd3aaahVVRTA8d+7z8okRYvMEvSLNICNSkqZA2WBFUYQDWoZFZEkFUGDFNEkWB9E+1AoQjQYFVrRLJUWFRWGJWoOFaJhUJqppeb0+rDuzevt3vfOPvc8Lf9w4Z59zlp7rXP2tNbeLd0XjVEwXTEQp+Bk9EYPHIEt2IofsQrL8XORlXcpSE8/XIvROF84lZVV+AjzsBD7mjGkpYkv1IIxuAujUGrGkDLrMAdPYXMeBXmNGI2v8RYubEJPLf3wMNbiUXRLVZBqSB+8ggU4O7WyBHrgAazAZSmCKQ5djKW4KqWCJumPN0UTPCqLQFaH7se7OD6fXU1zOz7OUn9HDrVgJqZmeLazGYJPxFdrSEdGTsXkoiwqgFPxgXa+VHsOTcZ9RVtUAANE8z+m3s1GDl2A6Z1lUQEMwtP1btRz6Fi8hNbOtKgAxmNibWE9h6ahb2dbUxDT1fSnWoeG4qaDZk7z9MST1QW1Dj0mhur/ExNwWuWi2qGhYl2Wyk/4Cr83ZxfYXta1LkGmhCnVFxXuSKx8L24VC8ohot89k6ijmhdxUllXf1yHXRllrxFx1z8O9cDYRANmYBbaytfbMQlfJuqBlbhRBIAVXsIjGeW7CKf+cehKHJ1oxKt1ytowP1EPvIHdGetoxDj2O3RRDiMazVN5BpVGulLWj4PQqyIwKocRV9cpa5UvvLgCR9YpT9HViuEl0RFPymHEJNxrf16iJ54XbyqVAaKp9i5ft+A2EeSlMLil+6IxI0VyIi+bsF5keJJD5hp2iqRJH5yQQ/6VLuLtNMNx5V8RdMWZTcgPKInF6OFCr5IGccX/lO4lkdE8XDiiJFKzhwtbSth2qK0okG0lbDjUVhTIhhLWHGorCuT7kljpbj/UlhTEkpJY5X6WINSG50RauDNZLV52Cgsri9OUpc8i3CB2IP5IrDArs3E67kmQWa/c5IjNpqwMEVHqL3gwQS4ry0SSc5dIVWVlHvvjjdX4IqNgNzxR/j8DryVU2hFbRMjwF0ZICx+e48AAanaC8NW4RfSn8XgnQbYRv+FS0W96ixxD1mBxMZZwoEMvSMu2zMRIMUKOFV+rrT2BdliGYWJw6iaaT0qyc2rlT7VDu/B4gpKuYjPqEuzBnSKUX5ygYwsewmB8h17iaw9L0PENXq9c1G4at4q82DkJCveWjZomHGvBcJG0GC4Cv+qms1lkhuaLJEglnzdEtJKU+KytXMenlYJ6u+Dn4nPpyfoVYph9u6a8mwgAK+cUNtXc7yvSVROlb6rNwc3VBY229adIa37VrMSzeE/0jb11nukjtmzGiaMBeUKYVaKpHjAXNnKoJDaVLs5RUTXb8IMYwXaIL3WiDrYVM7Ad5+Hb2huNTpLsE3PAAtG289IdZzUhX49dIjH6L2dov81uxeWib/xX2I3r8X6jBzrqhL+KGTvrKqIz+VPMdy+391CWUWWjyKzOKsCovKwRg8i7HT2YdZjcKbZOxokOfjB5QYxmS7I8nDruzxXn4OZo8hhYBlaIlccECYmcPKdDNorJbKB4e3ty6GiP5aIlnIEPU4WbOe7ynXh7/XG3WFPlXZxuEn10hAjs5qo/IXdIMwcA69FbDCCDxTGWASLp3qt8f4cwfq1YUSwXEfBSBTXhvwF5tOU6/qK6lQAAAABJRU5ErkJggg=="},kJ8X:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("bOdI"),i=s.n(a),n=s("mvHQ"),o=s.n(n),r={props:[],data:function(){return{img_src:s("B1zO"),close_icon:s("kuG5")}},methods:{closeModal:function(){this.$emit("closeSignInModal",0)}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading-wrapper-phone"},[s("div",{staticClass:"toast toast-loading"},[s("img",{staticClass:"market",attrs:{src:t.img_src,alt:"商城暂未开通"}}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),s("button",{staticClass:"sureBtn",on:{click:t.closeModal}},[t._v("确定")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modalText"},[e("span",[this._v("{couseInfo.title}")]),e("br"),this._v(" "),e("span",[this._v("{couseInfo.totalDuration}"),e("span",[this._v("章")]),this._v("{couseInfo.totalLecture}"),e("span",[this._v("节")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"price-content"},[e("div",[this._v("助学价")]),this._v(" "),e("div",[e("span",{staticClass:"now-price"},[this._v("{couseInfo.price}")]),this._v("元")]),this._v(" "),e("div",[this._v("原价:"),e("del",[this._v("¥{couseInfo.originalPrice}")])])])}]};var l,u=s("VU/8")(r,c,!1,function(t){s("DkXp")},"data-v-c3714056",null).exports,h=s("GGky"),d=s("NYxO"),v=Object(d.a)("userModule"),m=(v.mapMutations,v.mapActions,v.mapState),p=(l={name:"live",components:{timeout:u,emoji:h.default},computed:{},destroyed:function(){this.isActivation=0,this.socket.close()},data:function(){return{liveList:[],polyvUrl:"/api/polyv/realtime",studentCount:100,teacherAvatar:"",teacherName:"",rfliveStatus:1,recordFilesSrc:"",player:!1,playerRecord:0,chatList:new Array,liveSwiperStatus:0,chatContent:"",tokens:"",socket:Object,showTimeOut:0,title:"报名课程",showEmojiModal:0,emojiCountStatus:!1,chatUserList:new Array,changeEmoji:s("J3ug"),courseInfo:null,transformCss:0,swiperObj:null}},mounted:function(){var t=this;window.onscroll=function(){},setTimeout(function(){t.player=polyvObject("#player").livePlayer({width:"100%",height:"200px",uid:"e77rl86axa",vid:t.$route.params.id})},1e3);var e=this;this.swiperObj=new Swiper("#swiper-container",{passiveListeners:!1,observer:!0,observeParents:!0,autoHeight:!0,on:{slideChangeTransitionEnd:function(){this.activeIndex?(document.scrollingElement.scrollTop=0,e.$store.state.userModule.SWIPER_CODE_INDEX=1):(document.scrollingElement.scrollTop=document.scrollingElement.scrollHeight,e.$store.state.userModule.SWIPER_CODE_INDEX=0)}}}),this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.axios.get("/api/getChannelsStatus",{params:{vid:this.$route.params.id}}).then(function(e){-1!==e.data.indexOf("live")?(t.player=!0,t.axios.get("/api/course",{params:{courseId:t.$route.params.courseId}}).then(function(e){t.courseInfo=e.data;var s=new Date,a=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate(),i=new Date(s);i.setDate(s.getDate()-0);var n=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate();t.axios.get("/api/getHistory",{params:{startDay:n,finishTime:a,vid:t.$route.params.id}}).then(function(e){t.chatList=e.data.data.slice(e.data.data.length-300,e.data.data.length),t.chatList.forEach(function(e){e.user.userId==t.LOGIN_USER_OBJECT.user.userId?e.selfState="Y":e.selfState="N"}),t.toBottom(0),t.$Indicator.close()}).catch(function(t){})}).catch(function(t){})):t.axios.get("/api/recordFiles",{params:{vid:t.$route.params.id}}).then(function(e){t.playerRecord=1;var s=e.data.data;s.length>0&&(t.rfliveStatus=0),t.recordFilesSrc=s[s.length-1].url;var a=new Date,i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),n=new Date(a);n.setDate(a.getDate()-0);var o=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();t.axios.get("/api/getHistory",{params:{startDay:o,finishTime:i,vid:t.$route.params.id}}).then(function(e){t.chatList=e.data.data.slice(e.data.data.length-300,e.data.data.length),t.chatList.forEach(function(e){e.user.userId==t.LOGIN_USER_OBJECT.user.userId?e.selfState="Y":e.selfState="N"}),t.toBottom(0),t.$Indicator.close()}).catch(function(t){})}).catch(function(t){})}).catch(function(t){}),this.axios.get("/api/live",{params:{courseId:this.$route.params.courseId}}).then(function(e){t.teacherName=e.data.result[0].teacherName,t.teacherAvatar=-1==e.data.result[0].teacherAvatar.indexOf("http")?t.productURL+e.data.result[0].teacherAvatar:e.data.result[0].teacherAvatar}).catch(function(t){}),this.axios.get("/api/watchtoken/gettoken").then(function(e){t.tokens=e.data,t.getSockets(e.data)}).catch(function(t){})}},i()(l,"computed",m(["LOGIN_USER_OBJECT","SWIPER_CODE_INDEX"])),i()(l,"watch",{LOGIN_USER_OBJECT:function(t){},SWIPER_CODE_INDEX:function(t){}}),i()(l,"methods",{liveInteraction:function(){this.swiperObj.slideTo(0,500,!1),this.$store.state.userModule.SWIPER_CODE_INDEX=0},memberInteraction:function(){this.swiperObj.slideTo(1,500,!1),this.$store.state.userModule.SWIPER_CODE_INDEX=1},showQuetEvent:function(){this.transformCss?this.transformCss=0:this.transformCss=1},sendChatMsg:function(){if(!this.chatContent||0===this.chatContent.length||""===this.chatContent.charAt(0))return this.$Toast({message:"说点爱听的吧",position:"middle",duration:1e3}),void this.$refs.chatContentObj.focus();this.socket.emit("message",o()({EVENT:"SPEAK",values:[this.chatContent],roomId:this.$route.params.id}));var t={user:{channelId:this.$route.params.id,nick:this.LOGIN_USER_OBJECT.user.nickname,pic:this.LOGIN_USER_OBJECT.user.avatar,userId:this.LOGIN_USER_OBJECT.user.userId},time:(new Date).getTime(),selfState:"Y",content:this.chatContent};this.chatList.push(t),this.toBottom(100),this.chatContent=""},toBottom:function(t){setTimeout(function(){document.scrollingElement.scrollTop=document.scrollingElement.scrollHeight},t)},getEmoji:function(t){this.chatContent=""+this.chatContent+t,this.chatContentFoucus()},chatContentFoucus:function(){this.emojiCountStatus=!0;document.documentElement.clientHeight},emojiEvent:function(){this.changeEmoji=s("Vgsa"),this.emojiCountStatus?(this.changeEmoji=s("J3ug"),this.showEmojiModal=0,this.emojiCountStatus=!this.emojiCountStatus):(this.showEmojiModal=1,this.emojiCountStatus=!this.emojiCountStatu,this.$refs.chatContentObj.blur())},closeSignInModal:function(t){this.showTimeOut=t},getSockets:function(t){var e=this,s=t,a="WebSocket"in window||"MozWebSocket"in window;this.socket=a?io.connect("http://chat.polyv.net:80",{query:"token="+s,transports:["websocket"]}):io.connect("http://chat.polyv.net:80",{query:"token="+s,transports:["polling"]}),this.socket.on("connect",function(){e.axios.get("/api/onlineUserList",{params:{roomId:e.$route.params.id}}).then(function(t){t.data.userlist&&(e.chatUserList=t.data.userlist)}).catch(function(t){});var t=e.LOGIN_USER_OBJECT.user,s={EVENT:"LOGIN",values:[t.nickname,-1!==t.avatar.indexOf("http")?t.avatar:e.productURL+"/"+t.avatar,t.userId],roomId:e.$route.params.id};"Y"===t.isVip?s.values[0]="VIP_"+t.nickname:t.className&&(s.values[0]=t.className+"_"+t.nickname),e.socket.emit("message",o()(s))}),this.socket.on("message",function(t){var s=JSON.parse(t);if(e.studentCount=s.onlineUserNumber,s&&s.EVENT)switch(s.EVENT){case"CLOSEROOM":case"GONGGAO":break;case"SPEAK":var a={user:s.user,time:s.time,selfState:"N",content:s.values[0]};e.chatList.push(a),e.$router.history.current.path.startsWith("/live")&&e.toBottom(0);break;case"REWARD":case"QUESTION":case"CLOSE_QUESTION":case"ANSWER":case"ERROR":break;case"KICK":alert("您被提出了频道。")}})}}),l),A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player-container"},[a("div",{staticClass:"live_pannel",attrs:{id:"player"}}),t._v(" "),a("section",{staticClass:"middle"},[a("div",[a("img",{attrs:{src:t.teacherAvatar,alt:"讲师头像"}}),t._v(" "),a("span",[t._v(t._s(t.teacherName))])]),t._v(" "),a("div")]),t._v(" "),a("section",{staticClass:"tab_interactive"},[a("div",{class:{liveSwiperStatus:!t.SWIPER_CODE_INDEX},on:{click:t.liveInteraction}},[t._v("直播互动")]),t._v(" "),a("div",{class:{liveSwiperStatus:t.SWIPER_CODE_INDEX},on:{click:t.memberInteraction}},[a("span",[t._v("在线同学")]),t._v(" "),a("span",{staticClass:"chat_with"},[t._v(t._s(t.chatUserList.length))])])]),t._v(" "),a("div",{staticClass:"swiper-container",attrs:{id:"swiper-container"}},[a("div",{staticClass:"swiper-wrapper"},[a("div",{staticClass:"swiper-slide"},[a("section",{staticClass:"chat_detail"},t._l(t.chatList,function(e,s){return a("div",{key:s,staticClass:"course_detail",attrs:{id:"chat"}},["Y"===e.selfState?a("div",{staticClass:"chat_item_user"},[a("div",[a("img",{staticClass:"chat_ava_user",attrs:{src:e.user.pic&&-1===e.user.pic.indexOf("http")?t.productURL+e.user.pic:e.user.pic,alt:"聊天头像"}})]),t._v(" "),a("div",{staticClass:"pool"},[a("div",[t._v(t._s(e.user.nick))]),t._v(" "),a("p",{domProps:{innerHTML:t._s(t.convertEmotions(e.content))}}),t._v(" "),a("small",{staticClass:"pool_time"},[t._v(t._s(t._f("dateDiff")(e.time)))])])]):t._e(),t._v(" "),"N"===e.selfState?a("div",{staticClass:"chat_item"},[a("div",[a("img",{staticClass:"chat_ava",attrs:{src:e.user.pic&&-1===e.user.pic.indexOf("http")?t.productURL+e.user.pic:e.user.pic,alt:"聊天头像"}})]),t._v(" "),a("div",{staticClass:"pool"},[a("div",{staticClass:"chat_name"},[t._v(t._s(e.user.nick))]),t._v(" "),a("p",{staticClass:"pool_effect",domProps:{innerHTML:t._s(t.convertEmotions(e.content))}}),t._v(" "),a("small",{staticClass:"pool_time"},[t._v(t._s(t._f("dateDiff")(e.time)))])])]):t._e()])}))]),t._v(" "),a("div",{staticClass:"swiper-slide"},[a("div",{staticClass:"user-margin"},t._l(t.chatUserList,function(e,s){return a("div",{key:s,staticClass:"user-list"},[a("div",[a("img",{attrs:{src:e.pic,alt:"用户头像"}})]),t._v(" "),a("div",[t._v(t._s(e.nick))])])}))])])]),t._v(" "),a("transition-group",{attrs:{"enter-active-class":"zoomIn","leave-active-class":"zoomOut"}},[t.showTimeOut?a("timeout",{key:"timeout",staticClass:"animated",attrs:{title:t.title},on:{closeSignInModal:t.closeSignInModal}}):t._e()],1),t._v(" "),a("div",{ref:"chat_hot",staticClass:"chat_hot"},[a("div",[t.showEmojiModal?a("emoji",{on:{getEmoji:t.getEmoji}}):t._e(),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.chatContent,expression:"chatContent"}],ref:"chatContentObj",attrs:{type:"text",placeholder:"说两句......."},domProps:{value:t.chatContent},on:{focus:t.chatContentFoucus,input:function(e){e.target.composing||(t.chatContent=e.target.value)}}}),t._v(" "),a("span",{on:{click:t.emojiEvent}},[a("img",{attrs:{src:t.changeEmoji,alt:"表情"}})]),t._v(" "),a("span",{staticClass:"send",on:{click:t.sendChatMsg}},[a("img",{attrs:{src:s("9ZKk"),alt:"发送"}})])],1)]),t._v(" "),a("div",{class:{questionnaire:!0},style:{transform:t.transformCss?"translateX(0)":"translateX(160px)"}},[a("span",{on:{click:t.showQuetEvent}}),a("span",[t._v("调查问卷")])])],1)},staticRenderFns:[]};var E=s("VU/8")(p,A,!1,function(t){s("UKn2"),s("vaPr")},"data-v-669a4c82",null);e.default=E.exports},vaPr:function(t,e){}});
//# sourceMappingURL=8.6a256d4e89245765bf97.js.map