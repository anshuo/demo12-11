webpackJsonp([63],{Y1w2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"freePage",data:function(){return{courses:[],collection:i("k3ix"),item:{courseId:null},live:[],falgNoData:!1,page:1,pagination:!0,showData:!1,noDatalist:i("Xlep"),showLoginModal:0,defaultImg:i("bgnc"),livingImg:i("QIhp"),noLiveImg:i("A8TC")}},components:{login:i("K31e").a},created:function(){var t=this;this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.axios.get("/api/courses/mylivebroadcast_per",{params:{id:this.$route.params.id,page:this.page}}).then(function(e){t.live=e.data.result,t.$Indicator.close(),window.onscroll=function(){t.dropDown()}}).catch(function(t){})},computed:{LOGIN_USER_OBJECT:function(){return this.$store.state.userModule.LOGIN_USER_OBJECT}},methods:{showDialogEvent:function(t){this.showLoginModal=t},course_list:function(t,e){var i=this;this.LOGIN_USER_OBJECT?"LIVING"!==e.liveStatus?(this.$Indicator.open({text:"请求中...",spinnerType:"fading-circle"}),this.axios.get("/api/course",{params:{courseId:t}}).then(function(e){if("N"==e.data.isOpened)return i.$Indicator.close(),void i.$Toast({message:"未开通该课程",position:"middle",duration:1e3});i.axios.get("/api/live",{params:{courseId:t}}).then(function(t){i.$Indicator.close(),t.data.result&&t.data.result.length>0?t.data.result.forEach(function(e,s){e&&e.courseId&&e.liveContentJson.videoContent&&e.liveContentJson.videoContent.vid?i.$router.push({name:"live_vod",params:{id:e.courseId,vid:e.liveContentJson.videoContent.vid}}):s===t.data.result.length-1&&i.$Toast({message:"暂时无法观看该课程",position:"middle",duration:1e3})}):i.$Toast({message:"暂时无法观看该课程",position:"middle",duration:1e3})}).catch(function(t){})}).catch(function(t){})):this.$router.push({name:"live",params:{courseId:t,id:e.lastCurriculum.liveChannelId}}):this.showLoginModal=1},dropDown:function(){var t=this;this.falgNoData||this.scrollEvent()&&this.pagination&&(this.pagination=!1,this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.page+=1,this.axios.get("/api/courses/mylivebroadcast_per",{params:{id:this.$route.params.id,page:this.page}}).then(function(e){e.data.result&&e.data.result.length>0?(t.pagination=!0,t.live=t.live.concat(e.data.result),t.$Indicator.close()):(t.$Indicator.close(),t.$Toast({message:"没有更多了~",position:"middle",duration:1e3}))}).catch(function(t){}))}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[0==t.live.length?s("div",{staticClass:"no-data-img"},[s("img",{attrs:{src:t.noDatalist,alt:"没有作品哦~"}}),t._v(" "),s("span",[t._v("暂时没有内容,宝宝先看看别的吧~")])]):t._e(),t._v(" "),s("section",{staticClass:"course_list"},[!t.LOGIN_USER_OBJECT&&t.showLoginModal?s("login",{on:{showDialogEvent:t.showDialogEvent}}):t._e(),t._v(" "),s("div",{staticClass:"course_flex"},t._l(t.live,function(e,a){return s("div",{key:a,staticClass:"flex_middle",on:{click:function(i){t.course_list(e.courseId,e)}}},[s("div",{staticClass:"course_header_img"},[s("img",{attrs:{src:e.coverImage?e.coverImage:t.defaultImg,alt:e.keywords,title:e.keywords}})]),t._v(" "),s("div",[s("div",{staticClass:"title"},[t._v(t._s(e.title))])]),t._v(" "),s("div",{staticClass:"course_text_detail"},[s("div",[s("p",[s("img",{staticClass:"live-img",attrs:{src:"LIVING"==e.liveStatus?t.livingImg:t.noLiveImg,alt:"播放状态"}}),t._v(t._s("LIVING"===e.liveStatus?"正在直播":"暂无直播"))]),t._v(" "),s("p",{staticClass:"course_text_detail_pad"},[s("img",{staticClass:"course_text_detail_pad_img",attrs:{src:i("S7O6"),width:"20px"}}),t._v(t._s(e.studentCount))])]),t._v(" "),s("div",{staticClass:"coll"},[t._e()])])])}))],1)])},staticRenderFns:[]};var o=i("VU/8")(s,a,!1,function(t){i("wOg/")},"data-v-608bfab6",null);e.default=o.exports},"wOg/":function(t,e){}});
//# sourceMappingURL=63.728fb534405fb97aaddb.js.map