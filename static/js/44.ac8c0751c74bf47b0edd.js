webpackJsonp([44],{SfUb:function(t,a){},lsy6:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("K31e"),o=e("NYxO"),s=Object(o.a)("workRangeModule"),n=(s.mapMutations,s.mapActions,s.mapState,{components:{login:i.a},data:function(){return{favorite:[],collection:e("k3ix"),flowed:e("9v2m"),falgNoData:!1,page:1,pagination:!0,showData:!1,touchArr:new Array,noDatalist:e("Xlep"),showLoginModal:0,defaultImg:e("bgnc"),livingImg:e("QIhp"),noLiveImg:e("A8TC")}},mounted:function(){var t=this;setTimeout(function(){window.onscroll=function(){t.dropDown()}},1e3)},created:function(){var t=this;this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.axios.get("/api/displaywindow/favorite",{params:{userId:this.$route.params.id,page:this.page}}).then(function(a){a.data.list&&a.data.list.length>0&&a.data.forEach(function(a){a.coverImage&&-1==a.coverImage.indexOf("http")&&(a.coverImage=t.productURL+a.coverImage)}),t.favorite=a.data,t.$Indicator.close()}).catch(function(t){})},computed:{LOGIN_USER_OBJECT:function(){return this.$store.state.userModule.LOGIN_USER_OBJECT}},methods:{showDialogEvent:function(t){this.showLoginModal=t},favorite_add:function(t){var a=this;"N"==t.isFollowed?this.axios.post("/api/favorite",{courseId:t.courseId}).then(function(e){"添加成功"==e.data&&(a.$set(t,"isFollowed","Y"),a.$Toast({message:"添加成功",position:"middle",duration:1e3}))}).catch(function(t){}):this.axios.post("/api/favorite/delete",{courseId:t.courseId}).then(function(e){"移除成功"==e.data&&(a.$set(t,"isFollowed","N"),a.$Toast({message:"移除成功",position:"middle",duration:1e3}))}).catch(function(t){})},course_list:function(t){this.LOGIN_USER_OBJECT||"VIP"===t.courseType?"VOD"===t.courseType?"LIVING"==t.liveStatus?this.$router.push({name:"live",params:{id:t.lastCurriculum.liveChannelId,courseId:t.courseId}}):this.$Toast({message:"暂无直播",position:"middle",duration:1e3}):"VIP"===t.courseType&&this.$router.push({name:"vipDetail",params:{id:t.courseId}}):this.loginModalStatus=!0},dropDown:function(){var t=this;this.falgNoData||this.scrollEvent()&&this.pagination&&(this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),++this.page,this.axios.get("/api/displaywindow/favorite",{params:{userId:this.$route.params.id,page:this.page}}).then(function(a){a.data&&a.data.length>0?(t.favorite=t.favorite.concat(a.data),t.$Indicator.close()):(t.falgNoData=!1,t.$Indicator.close(),t.$Toast({message:"没有更多了~",position:"middle",duration:1e3}))}).catch(function(t){}))}}}),r={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("section",{staticClass:"course_list"},[0==t.favorite.length?i("div",{staticClass:"no-data-img"},[i("img",{attrs:{src:t.noDatalist,alt:"没有作品哦~"}}),t._v(" "),i("span",[t._v("暂时没有内容,宝宝先看看别的吧~")])]):t._e(),t._v(" "),i("div",{staticClass:"course_flex"},t._l(t.favorite,function(a,o){return i("div",{key:o,staticClass:"flex_middle",on:{click:function(e){t.course_list(a)}}},[i("div",{staticClass:"course_header_img"},[i("img",{attrs:{src:a.coverImage?a.coverImage:t.defaultImg,alt:a.keywords,title:a.keywords}})]),t._v(" "),i("div",[i("div",{staticClass:"title"},[t._v(t._s(a.title))])]),t._v(" "),i("div",{staticClass:"course_text_detail"},[i("div",[i("p",[i("img",{staticClass:"live-img",attrs:{src:"LIVING"==a.liveStatus?t.livingImg:t.noLiveImg,alt:"播放"}}),t._v(t._s("LIVING"==a.liveStatus?"正在直播":"暂无直播"))]),t._v(" "),i("p",{staticClass:"course_text_detail_pad"},[i("img",{staticClass:"course_text_detail_pad_img",attrs:{src:e("S7O6"),width:"20px"}}),t._v(t._s(t._f("numFm")(a.totalStudent)))])]),t._v(" "),t._e()])])})),t._v(" "),t.showLoginModal&&!t.LOGIN_USER_OBJECT?i("login",{on:{showDialogEvent:t.showDialogEvent}}):t._e()],1)},staticRenderFns:[]};var c=e("VU/8")(n,r,!1,function(t){e("SfUb")},"data-v-c5deb65c",null);a.default=c.exports}});
//# sourceMappingURL=44.ac8c0751c74bf47b0edd.js.map