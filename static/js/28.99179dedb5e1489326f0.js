webpackJsonp([28],{"2dg+":function(t,e){},bxFe:function(t,e){t.exports="data:image/png;base64,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"},dgVp:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,o=i("bOdI"),a=i.n(o),r=i("Hdn/"),n=i("K31e"),c={components:{headerNabBack:r.a,login:n.a},data:function(){return{centerTitle:"作品详情",workDetail:{user:{},contentPics:""},baseUrl:"https://test/dapengjiaoyu.com",isPraise:"N",noPraiseImg:i("Zsvr"),yesPraiseImg:i("jdOy"),shareImg:i("gg/V"),back_img:i("Jl9t"),commentList:new Array,attention:"Y",workCircleComment:"",replayCommentAccount:Object,placeholder:"说两句...",isFollow:"",account:"",showLoginModal:0}},created:function(){var t=this;this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.axios.get("/api/getWorkInfo",{params:{worksId:this.$route.params.id}}).then(function(e){t.account=e.data.userId||"",t.isFollow=e.data.result.isFollow||"",t.workDetail=e.data.result.WorksE,-1==t.workDetail.userAvatar.indexOf("http")&&(t.workDetail.userAvatar=""+t.baseUrl+t.workDetail.userAvatar),e.data.result.isPraise&&(t.isPraise=e.data.result.isPraise),t.$Indicator.close()}).catch(function(t){}),this.$router.push({name:"workCircleCommentList"})},methods:(s={showDialogEvent:function(t){this.showLoginModal=t},enterPerCenter:function(t){this.$router.push({name:"perWorkCircle",params:{id:t.userId}})},changeAttentionStatus:function(t){var e=this;this.$store.state.user?"N"==this.isFollow?this.axios.post("/api/user-following/add",{followingId:t.userId}).then(function(i){"关注成功"==i.data.result&&(e.changeTopic("关注成功",500),e.$set(t,"isFollow","Y")),e.isFollow="Y"}).catch(function(t){}):"Y"==this.isFollow&&this.axios.post("/api/user-following/delete",{followingId:t.userId}).then(function(i){e.isFollow="N","移除成功"==i.data.result?(e.changeTopic("取消关注成功",500),e.$set(t,"isFollow","N")):"移除失败"==i.data.result&&e.changeTopic("取消关注失败",500)}).catch(function(t){}):this.showLoginModal=1},replayComment:function(t){this.replayCommentAccount=t,this.placeholder="@"+t.user.nickname},deletionComment:function(t,e,i){var s=this;this.axios.get("/api/user/delectWorksCommentE",{params:{commentIds:t.commentE.commentId}}).then(function(t){"success"==t.data.status?(i.splice(e,1),s.$Toast({message:"删除评论成功",position:"middle",duration:1e3})):s.$Toast({message:"删除评论失败",position:"middle",duration:1e3})}).catch(function(t){})},sendMsg:function(t){var e=this;if(this.$store.state.user)if(0!=this.workCircleComment.length&&""!=this.workCircleComment.charAt(0)){var i={worksId:t.worksId,commentsSection:this.workCircleComment};this.replayCommentAccount&&(i.commentId=this.replayCommentAccount.commentId),this.axios.get("/api/user/addwordsComments",{params:i}).then(function(t){t.data&&0==t.data.status?e.$Toast({message:"请登录后操作",position:"middle",duration:1e3}):"您发送的内容包含违禁用词，请核对后重新发送！"!=t.data.result?"新增失败"!=t.data.result?"没有该作品信息！"!=t.data.result?"success"==t.data.status&&e.$Toast({message:"评论成功",position:"middle",duration:1e3}):e.$Toast({message:"没有该作品信息！",position:"middle",duration:1e3}):e.$Toast({message:"新增失败",position:"middle",duration:1e3}):e.$Toast({message:"发送的内容包含违禁用词",position:"middle",duration:1e3})}).catch(function(t){})}else this.$Toast({message:"评论不能为空",position:"middle",duration:1e3});else this.showLoginModal=1},changeTopic:function(t,e){var i=this;this.topicTitle=t,this.showTopic=1,setTimeout(function(){i.showTopic=0},e)}},a()(s,"enterPerCenter",function(t){this.$router.push({name:"perWorkCircle",params:{id:t.userId}})}),a()(s,"changePraiseStatus",function(t){var e=this;this.$store.state.user?this.axios.get("/api/likeWorks",{params:{worksId:t.worksId,action:"Y"==this.isPraise?"NORMAL":"UPVOTE"}}).then(function(t){"success"===t.data.status&&"取消点赞 -1！"==t.data.result?(e.$Toast({message:"取消点赞成功",position:"middle",duration:1e3}),e.isPraise="N",e.$set(e.workDetail,"numberFabulous",--e.workDetail.numberFabulous)):"success"===t.data.status&&"点赞 +1！"==t.data.result&&(e.$Toast({message:"点赞成功",position:"middle",duration:1e3}),e.isPraise="Y",e.$set(e.workDetail,"numberFabulous",++e.workDetail.numberFabulous))}).catch(function(t){}):this.showLoginModal=1}),a()(s,"back",function(){this.$router.push("/workCircle")}),s)},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("header-nab-back",{attrs:{centerTitle:t.centerTitle}}),t._v(" "),s("transition",{attrs:{"enter-active-class":"zoomIn","leave-active-class":"zoomOut"}},[t.showLoginModal?s("login",{on:{showDialogEvent:t.showDialogEvent}}):t._e()],1),t._v(" "),s("section",{staticClass:"creation_item"},[s("div",{staticClass:"creation_header"},[s("div",[s("a",[s("img",{attrs:{src:t.workDetail.userAvatar,alt:"作品详情作者头像"},on:{click:function(e){t.enterPerCenter(t.workDetail)}}})])]),t._v(" "),s("div",[s("a",[t._v(t._s(t.workDetail.nickName))]),t._v(" "),s("br"),s("span",[t._v(t._s(t._f("dateDiff")(new Date(t.workDetail.dateAdded))))])]),t._v(" "),s("div",[t.account!=t.workDetail.userId?s("a",{class:"Y"==t.isFollow?"isPraise":"noPraise",on:{click:function(e){t.changeAttentionStatus(t.workDetail)}}},[t._v("\n              "+t._s("Y"==t.isFollow?"已关注":"未关注")+"\n            ")]):t._e()])]),t._v(" "),s("div",{staticClass:"creation_content"},[s("p",[t._v(t._s(t.workDetail.content))]),t._v(" "),s("ul",t._l(t.workDetail.contentPics.split(","),function(t,e){return s("li",{key:e},[s("img",{attrs:{src:t,alt:"作品内容"}})])}))]),t._v(" "),s("div",{staticClass:"creation_read_num"},[t._v("阅读"+t._s(t.workDetail.browseCount))])]),t._v(" "),s("div",{staticClass:"creation_footer"},[s("router-link",{attrs:{tag:"div",to:{name:"workCircleCommentList"}}},[s("img",{attrs:{src:i("bxFe"),alt:"评论"}}),s("span",[t._v(t._s(t.workDetail.numberComments))])]),t._v(" "),s("router-link",{attrs:{tag:"div",to:{name:"workCirclePraiseList"}}},[s("img",{attrs:{src:t.noPraiseImg,alt:"点赞"}}),s("span",[t._v(t._s(t.workDetail.numberFabulous))])])],1),t._v(" "),s("section",{staticClass:"footer"},[s("router-view",{on:{replayComment:t.replayComment}})],1),t._v(" "),s("section",{staticClass:"fixed_comment"},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.workCircleComment,expression:"workCircleComment"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.workCircleComment},on:{input:function(e){e.target.composing||(t.workCircleComment=e.target.value)}}})]),t._v(" "),s("div",[s("img",{attrs:{src:"Y"==t.isPraise?t.yesPraiseImg:t.noPraiseImg,alt:"点赞状态"},on:{click:function(e){t.changePraiseStatus(t.workDetail)}}})]),t._v(" "),s("div",[s("img",{attrs:{src:t.shareImg,alt:"分享"},on:{click:function(e){t.sendMsg(t.workDetail)}}})])]),t._v(" "),t.showLoading?s("loading",{attrs:{title:t.loadingTitle}}):t._e(),t._v(" "),s("transition",{attrs:{"enter-active-class":"zoomIn","leave-active-class":"zoomOut"}},[t.showTopic?s("topic",{staticClass:"animated",attrs:{title:t.topicTitle}}):t._e()],1)],1)},staticRenderFns:[]};var d=i("VU/8")(c,l,!1,function(t){i("2dg+")},"data-v-973b2fc8",null);e.default=d.exports}});
//# sourceMappingURL=28.99179dedb5e1489326f0.js.map