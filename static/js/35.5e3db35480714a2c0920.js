webpackJsonp([35],{"7w74":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={props:["item"],computed:{LOGIN_USER_OBJECT:function(){return this.$store.state.userModule.LOGIN_USER_OBJECT}},data:function(){return{collection:i("k3ix"),flowed:i("9v2m"),showLoginModal:0,defaultImg:i("bgnc"),livingImg:i("QIhp"),noLiveImg:i("A8TC")}},methods:{showDialogEvent:function(t){this.showLoginModal=t},courseList:function(t){var e=this;"LIVING"===t.liveStatus?this.axios.get("/api/live",{params:{courseId:t.courseId}}).then(function(t){t.data.result&&e.$router.push({name:"live",params:{id:t.data.result[0].channelId,courseId:t.data.result[0].courseId}})}).catch(function(t){}):this.axios.get("/api/live",{params:{courseId:t.courseId}}).then(function(t){t.data.result&&t.data.result.length>0?t.data.result.forEach(function(t){t&&t.courseId&&t.liveContentJson.videoContent&&t.liveContentJson.videoContent.vid?e.$router.push({name:"live_vod",params:{id:t.courseId,vid:t.liveContentJson.videoContent.vid}}):e.$Toast({message:"暂时无法观看该课程",position:"middle",duration:1e3})}):e.$Toast({message:"暂时无法观看该课程",position:"middle",duration:1e3})}).catch(function(t){})},favorite:function(t){this.LOGIN_USER_OBJECT?"N"==t.isFollowed?this.addFavoriteCourse(t):this.deleteFavoriteCourse(t):this.showLoginModal=1},addFavoriteCourse:function(t){var e=this;this.axios.post("/api/favorite",{courseId:t.courseId}).then(function(i){"添加成功"==i.data&&(e.$Toast({message:i.data,position:"middle",duration:1e3}),e.$set(t,"isFollowed","Y"))}).catch(function(t){})},deleteFavoriteCourse:function(t){var e=this;this.axios.post("/api/favorite/delete",{courseId:t.courseId}).then(function(i){"移除成功"==i.data&&(e.$Toast({message:i.data,position:"middle",duration:1e3}),e.$set(t,"isFollowed","N"))}).catch(function(t){})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex_middle",on:{click:function(e){t.courseList(t.item)}}},[a("div",{staticClass:"course_header_img",style:{backgroundImage:"url("+(t.item.coverImage?t.item.coverImage:t.defaultImg)+")"}}),t._v(" "),a("div",[a("div",{staticClass:"title"},[t._v(t._s(t.item.title))])]),t._v(" "),a("div",{staticClass:"course_text_detail"},[a("div",[a("p",[a("img",{staticClass:"live-img",attrs:{src:"LIVING"==t.item.liveStatus?t.livingImg:t.noLiveImg,alt:""}}),t._v(t._s("LIVING"==t.item.liveStatus?"正在直播":"暂无直播"))]),t._v(" "),a("p",{staticClass:"course_text_detail_pad"},[a("img",{staticClass:"course_text_detail_pad_img",attrs:{src:i("S7O6")}}),t._v(t._s(t._f("numFm")(t.item.studentCount)))])])])])},staticRenderFns:[]};var o={name:"freePage",data:function(){return{courses:[],item:{courseId:null},live:[],title:"暂无直播",falgNoData:!1,page:1,pagination:!0,showData:!1}},components:{liveSingleCourse:i("VU/8")(a,s,!1,function(t){i("fwgu")},"data-v-22e10b98",null).exports},created:function(){var t=this;this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.axios.get("/api/courses/mylivebroadcast_vip",{params:{page:this.page}}).then(function(e){t.live=e.data.result||[],t.$Indicator.close()}).catch(function(t){})},mounted:function(){var t=this;window.onscroll=function(){t.dropDown()}},methods:{dropDown:function(){var t=this;this.falgNoData||this.scrollEvent()&&this.pagination&&(this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.page+=1,this.falgNoData=!0,this.axios.get("/api/courses/mylivebroadcast_vip",{params:{page:this.page}}).then(function(e){t.pagination&&(e.data.result&&e.data.result.length>0?(t.live=t.live.concat(e.data.result),t.$Indicator.close(),t.falgNoData=!1):(t.$Indicator.close(),t.pagination=!1,t.showData=!0,t.falgNoData=!0))}).catch(function(t){}))}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("section",{staticClass:"courseList"},[e("div",{staticClass:"course_flex"},this._l(this.live,function(t,i){return e("live-single-course",{key:i,attrs:{item:t}})})),this._v(" "),this.live.length?this._e():e("p",{staticClass:"noWrapper"},[e("img",{attrs:{src:i("Xlep"),alt:"没有关注的课程哦~"}}),e("br"),this._v("暂时还没有内容~~宝宝先看看别的~~")])])])},staticRenderFns:[]};var r=i("VU/8")(o,n,!1,function(t){i("kxIA")},"data-v-51afe62a",null);e.default=r.exports},fwgu:function(t,e){},kxIA:function(t,e){}});
//# sourceMappingURL=35.5e3db35480714a2c0920.js.map