webpackJsonp([62],{lStY:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n("Dd8w"),i=n.n(e),o=n("mbkp"),a=n("NYxO"),c=Object(a.a)("userModule"),l=(c.mapMutations,c.mapActions),r=c.mapState,u={components:{success:o.a},data:function(){return{showSuccess:0,successTitle:"",falgNoData:!1,pagination:!0,showData:!1,showLoginModal:0,page:1}},destroyed:function(){window.onscroll=function(){}},methods:i()({},l(["GET_MYFANCE"]),{dropDown:function(){var t=this;this.falgNoData||this.scrollEvent()&&this.pagination&&(this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.falgNoData=!0,this.GET_MYFANCE({params:{page:++this.$store.state.userMmodule.MY_FANCE_OBJECT_LIST.MY_FANCE_PAGE}}).then(function(s){t.pagination&&(s.data.contents.length?(t.$Indicator.close(),t.falgNoData=!1):(t.$Indicator.close(),t.pagination=!1,t.falgNoData=!0))}).catch(function(t){}))},to_flow:function(t){var s=this;this.$Indicator.open({text:"添加中...",spinnerType:"fading-circle"}),this.axios.post("/api/user-following/add",{followingId:t.userId}).then(function(n){s.$set(t,"isFollowed","Y"),s.changeSuccessStatus("关注成功",500)}).catch(function(t){})},flowed:function(t){var s=this;this.$Indicator.open({text:"取消中...",spinnerType:"fading-circle"}),this.axios.post("/api/user-following/delete",{followingId:t.userId}).then(function(n){s.$set(t,"isFollowed","N"),s.changeSuccessStatus("取消成功",500)}).catch(function(t){})},changeSuccessStatus:function(t,s){var n=this;this.$Indicator.close(),this.successTitle=t,this.showSuccess=1,setTimeout(function(){n.showSuccess=0},s)}}),mounted:function(){var t=this;window.onscroll=function(){t.dropDown()},this.MY_FANCE_OBJECT_LIST&&this.MY_FANCE_OBJECT_LIST.MY_FANCE_LIST.length>0||(this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.GET_MYFANCE({params:{page:this.MY_FANCE_OBJECT_LIST.MY_FANCE_PAGE}}).then(function(s){t.$Indicator.close()}).catch(function(t){}))},computed:r(["MY_FANCE_OBJECT_LIST"])},_={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",[t.MY_FANCE_OBJECT_LIST.MY_FANCE_LIST.length?t._e():e("p",{staticClass:"noWrapper"},[e("img",{attrs:{src:n("Xlep"),alt:"没有关注的课程哦~"}}),e("br"),t._v("暂时还没有内容~~宝宝先看看别的~~")]),t._v(" "),t._l(t.MY_FANCE_OBJECT_LIST.MY_FANCE_LIST,function(s,n){return e("div",{key:n,staticClass:"attention_item"},[e("div",[e("img",{attrs:{src:s.avatar,alt:"头像"}}),t._v(" "),e("div",{staticClass:"teacher_base_info"},[e("a",[t._v(t._s(s.nickname))]),e("br"),t._v(" "),e("a",{staticClass:"home_work"},[t._v(t._s(s.introduction))])])]),t._v(" "),"N"==s.isFollowed?e("div",{staticClass:"note",on:{click:function(n){t.to_flow(s)}}},[e("a",[t._v("关注")])]):t._e(),t._v(" "),"Y"==s.isFollowed?e("div",{staticClass:"notes",on:{click:function(n){t.flowed(s)}}},[e("a",[t._v("已关注")])]):t._e()])}),t._v(" "),e("transition",{attrs:{"enter-active-class":"zoomIn","leave-active-class":"zoomOut"}},[t.showSuccess?e("success",{staticClass:"animated",attrs:{title:t.successTitle}}):t._e()],1)],2)},staticRenderFns:[]};var d=n("VU/8")(u,_,!1,function(t){n("vyem")},"data-v-625b62bc",null);s.default=d.exports},vyem:function(t,s){}});
//# sourceMappingURL=62.6bff1a342b4d7b8dd386.js.map