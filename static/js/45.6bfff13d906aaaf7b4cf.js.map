{"version":3,"sources":["webpack:///src/pages/mine/changePhone.vue","webpack:///./src/pages/mine/changePhone.vue?6738","webpack:///./src/pages/mine/changePhone.vue"],"names":["changePhone","components","data","user","phone","yzm","bool","code","methods","back","this","$router","go","submitBtn","length","axios","post","then","catch","err","alert","getYzm","$event","_this","count","time","window","setInterval","$","target","text","type","result","clearInterval","mounted","_this2","iss","mobile","mine_changePhone","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","staticStyle","height","vertical-align","attrs","src","__webpack_require__","alt","_v","directives","name","rawName","value","expression","ref","placeholder","autocomplete","domProps","input","composing","id","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2HAwBA,IAAAA,GACAC,cACAC,KAFA,WAGA,OACAC,QACAC,MAAA,GACAC,IAAA,GACAC,MAAA,EACAC,KAAA,KAGAC,SACAC,KADA,WAEAC,KAAAC,QAAAC,IAAA,IAEAC,UAJA,WAKA,GAAAH,KAAAN,MAAAU,OAIA,GAAAJ,KAAAL,IAAAS,OAIAJ,KAAAH,MAAAG,KAAAL,KAEAK,KAAAK,MAAAC,KAAA,oBACAZ,MAAAM,KAAAN,QACAa,KAAA,SAAAf,MAGAgB,MAAA,SAAAC,MAVAC,MAAA,UAJAA,MAAA,WAsBAC,OA5BA,SA4BAC,GAAA,IAAAC,EAAAb,KAEA,GAAAA,KAAAJ,KAAA,CACAI,KAAAJ,MAAAI,KAAAJ,KACA,IAAAkB,EAAA,GACAC,EAAAC,OAAAC,YAAA,aACAH,GACA,GACAI,EAAAN,EAAAO,QAAAC,KAAAN,EAAA,UACA,IAAAA,GACAD,EAAAR,MAAAC,KAAA,oBACAe,KAAA,iBACAd,KAAA,SAAAf,GAEAA,OAAA8B,OAAAzB,OACAgB,EAAAhB,KAAAL,EAAA8B,OAAAzB,QAGAW,MAAA,SAAAC,QAKAc,cAAAR,GACAG,EAAAN,EAAAO,QAAAC,KAAA,SACAP,EAAAjB,MAAA,IAEA,QAIA4B,QAtEA,WAsEA,IAAAC,EAAAzB,KACAA,KAAAK,MAAAC,KAAA,gBAAAC,KAAA,SAAAf,GACAiC,EAAAhC,KAAAD,OAAAkC,IACAD,EAAA/B,MAAA+B,EAAAhC,KAAAkC,SAEAnB,MAAA,SAAAC,QChGemB,GADEC,OAFjB,WAA0B,IAAAC,EAAA9B,KAAa+B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,WAAqBF,EAAA,QAAaG,IAAIC,MAAAP,EAAA/B,QAAkBkC,EAAA,OAAYK,aAAaC,OAAA,OAAAC,iBAAA,UAA0CC,OAAQC,IAAMC,EAAQ,QAA6BC,IAAA,UAAcd,EAAAe,GAAA,KAAAZ,EAAA,QAAAH,EAAAe,GAAA,YAAAf,EAAAe,GAAA,KAAAZ,EAAA,UAAAH,EAAAe,GAAA,KAAAZ,EAAA,OAA6FE,YAAA,SAAmBF,EAAA,OAAAA,EAAA,QAAAH,EAAAe,GAAA,SAAAf,EAAAe,GAAA,KAAAZ,EAAA,SAA+Da,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAnB,EAAA,MAAAoB,WAAA,UAAoEC,IAAA,YAAAV,OAAyBW,YAAA,OAAA/B,KAAA,OAAAgC,aAAA,OAAwDC,UAAWL,MAAAnB,EAAA,OAAoBM,IAAKmB,MAAA,SAAA3C,GAAyBA,EAAAO,OAAAqC,YAAsC1B,EAAApC,MAAAkB,EAAAO,OAAA8B,aAAgCnB,EAAAe,GAAA,KAAAZ,EAAA,OAA0BQ,OAAOgB,GAAA,SAAYxB,EAAA,QAAAH,EAAAe,GAAA,SAAAf,EAAAe,GAAA,KAAAZ,EAAA,SAAqDa,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAnB,EAAA,IAAAoB,WAAA,QAAgEC,IAAA,MAAAV,OAAmBW,YAAA,SAAA/B,KAAA,OAAAgC,aAAA,OAA0DC,UAAWL,MAAAnB,EAAA,KAAkBM,IAAKmB,MAAA,SAAA3C,GAAyBA,EAAAO,OAAAqC,YAAsC1B,EAAAnC,IAAAiB,EAAAO,OAAA8B,WAA8BnB,EAAAe,GAAA,KAAAZ,EAAA,QAAyBE,YAAA,MAAAC,IAAsBC,MAAAP,EAAAnB,UAAoBmB,EAAAe,GAAA,eAAAf,EAAAe,GAAA,KAAAZ,EAAA,OAA8CE,YAAA,cAAwBF,EAAA,UAAeG,IAAIC,MAAAP,EAAA3B,aAAuB2B,EAAAe,GAAA,aAE3zCa,oBCCjB,IAcAC,EAdyBhB,EAAQ,OAcjCiB,CACEtE,EACAsC,GATF,EAVA,SAAAiC,GACElB,EAAQ,SAaV,kBAEA,MAUemB,EAAA,QAAAH,EAAiB","file":"static/js/45.6bfff13d906aaaf7b4cf.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"header\">\r\n      <span @click=\"back\"><img style=\"height:25px;vertical-align:middle;\" src=\"../../assets/img/per_fh.png\" alt=\"返回\"></span>\r\n      <span>验证原手机号</span>\r\n      <span></span>\r\n    </div>\r\n    <div class=\"area\">\r\n      <div>\r\n        <span>手机号</span>\r\n        <input placeholder=\"原手机号\" type=\"text\" ref=\"initPhone\" v-model=\"phone\" autocomplete=\"off\">\r\n      </div>\r\n      <div id=\"yzm\">\r\n        <span>验证码</span>\r\n        <input placeholder=\"请输入验证码\" type=\"text\" ref=\"yzm\" v-model=\"yzm\" autocomplete=\"off\">\r\n        <span class=\"yzm\" @click=\"getYzm\">获取验证码</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"submitBtn\">\r\n      <button @click=\"submitBtn\">完成</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    components: {},\r\n    data() {\r\n      return {\r\n        user: {},\r\n        phone: '',\r\n        yzm: '',\r\n        bool: true,\r\n        code: ''\r\n      }\r\n    },\r\n    methods: {\r\n      back() {\r\n        this.$router.go(-1);\r\n      },\r\n      submitBtn() {\r\n        if (this.phone.length == 0) {\r\n          alert('请输入手机号');\r\n          return;\r\n        }\r\n        if (this.yzm.length == 0) {\r\n          alert('请输入验证码');\r\n          return;\r\n        }\r\n        if (this.code == this.yzm) {\r\n          console.log(this.phone);\r\n          this.axios.post('/api/changePhone', {\r\n            phone: this.phone\r\n          }).then(data => {\r\n            console.log('修改成功');\r\n            console.log(data);\r\n          }).catch(err => {\r\n            console.log(err);\r\n          });\r\n        } else {\r\n          console.log('验证码不一致,请重新获取');\r\n        }\r\n        console.log(`${this.phone}+${this.yzm}`);\r\n      },\r\n      getYzm($event) {\r\n        console.log(this.bool);\r\n        if (this.bool) {\r\n          this.bool = !this.bool;\r\n          var count = 60;\r\n          var time = window.setInterval(() => {\r\n            count--;\r\n            if (count >= 0) {\r\n              $($event.target).text(`${count}秒后重新获取`);\r\n              if (count == 59) {\r\n                this.axios.post('/api/sendCaptcha', {\r\n                  type: 'CHANGE_PHONE'\r\n                }).then(data => {\r\n                  console.log(data);\r\n                  if (data.data.result.code) {\r\n                    this.code = data.result.code;\r\n                  }\r\n                  console.log(this.code);\r\n                }).catch(err => {\r\n                  console.log(err);\r\n                });\r\n              }\r\n            } else {\r\n              clearInterval(time);\r\n              $($event.target).text(`获取验证码`);\r\n              this.bool = true;\r\n            }\r\n          }, 1000);\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      this.axios.post('/api/logined').then((data) => {\r\n        this.user = data.data.iss;\r\n        this.phone = this.user.mobile;\r\n        console.log(this.user);\r\n      }).catch(err => {\r\n        console.log(err);\r\n      });\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .container {\r\n    background-color: #eee;\r\n  } // 头部\r\n  .header {\r\n    display: flex;\r\n    height: 2.5rem;\r\n    background-color: #fff;\r\n    div {\r\n      flex: 2;\r\n      padding-left: 1.25rem;\r\n      height: 2.5rem;\r\n    }\r\n    span {\r\n      flex: 3.333;\r\n      display: inline-block;\r\n      text-align: center;\r\n      height: 2.5rem;\r\n      line-height: 2.5rem;\r\n      &:nth-child(1) {\r\n        color: #999;\r\n        text-align: left;\r\n        text-indent: 1em;\r\n      }\r\n      &:nth-child(2) {\r\n        font-size: 1.125rem;\r\n      }\r\n      &:nth-child(3) {\r\n        text-align: right;\r\n        padding-right: 1em;\r\n        color: #44b336;\r\n        box-sizing: border-box;\r\n      }\r\n    }\r\n  } // 头部\r\n  .area {\r\n    padding: 1.25rem .625rem;\r\n    &>div {\r\n      padding-left: .625rem;\r\n    }\r\n    &>div {\r\n      background-color: #fff;\r\n      box-sizing: border-box;\r\n      margin-bottom: .625rem;\r\n      display: flex;\r\n      span {\r\n        font-size: 1rem;\r\n        display: inline-block;\r\n        height: 2.5rem;\r\n        text-align: center;\r\n        line-height: 2.5rem;\r\n        flex: 2;\r\n      }\r\n      input {\r\n        border: none;\r\n        outline: none;\r\n        height: 2.5rem;\r\n        text-indent: 1em;\r\n        flex: 8;\r\n      }\r\n    }\r\n  }\r\n  .submitBtn {\r\n    width: 100%;\r\n    text-align: center;\r\n    &>button {\r\n      width: 90%;\r\n      height: 3.125rem;\r\n      background: #6dce67;\r\n      text-align: center;\r\n      line-height: 3.125rem;\r\n      color: #fff;\r\n      font-size: 1.25rem;\r\n      border: none;\r\n      outline: none;\r\n      border-radius: .625rem;\r\n    }\r\n  }\r\n  .yzm {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    display: inline-block;\r\n    background-color: transparent;\r\n    color: #44b336;\r\n  }\r\n  #yzm {\r\n    position: relative;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/mine/changePhone.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"header\"},[_c('span',{on:{\"click\":_vm.back}},[_c('img',{staticStyle:{\"height\":\"25px\",\"vertical-align\":\"middle\"},attrs:{\"src\":require(\"../../assets/img/per_fh.png\"),\"alt\":\"返回\"}})]),_vm._v(\" \"),_c('span',[_vm._v(\"验证原手机号\")]),_vm._v(\" \"),_c('span')]),_vm._v(\" \"),_c('div',{staticClass:\"area\"},[_c('div',[_c('span',[_vm._v(\"手机号\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],ref:\"initPhone\",attrs:{\"placeholder\":\"原手机号\",\"type\":\"text\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"yzm\"}},[_c('span',[_vm._v(\"验证码\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.yzm),expression:\"yzm\"}],ref:\"yzm\",attrs:{\"placeholder\":\"请输入验证码\",\"type\":\"text\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.yzm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.yzm=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"yzm\",on:{\"click\":_vm.getYzm}},[_vm._v(\"获取验证码\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"submitBtn\"},[_c('button',{on:{\"click\":_vm.submitBtn}},[_vm._v(\"完成\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c34d58ea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/mine/changePhone.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c34d58ea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./changePhone.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./changePhone.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./changePhone.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c34d58ea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./changePhone.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c34d58ea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/mine/changePhone.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}