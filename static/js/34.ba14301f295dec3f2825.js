webpackJsonp([34],{"4Of/":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("bOdI"),a=i.n(s),o={components:{login:i("K31e").a},props:["item"],computed:{LOGIN_USER_OBJECT:function(){return this.$store.state.userModule.LOGIN_USER_OBJECT}},data:function(){return{collection:i("k3ix"),flowed:i("9v2m"),showLoginModal:0,defaultCoverImg:i("bgnc")}},methods:{showDialogEvent:function(t){this.showLoginModal=t},course_list:function(t){"VIP"==t.courseType?this.$router.push({name:"vipDetail",params:{id:t.courseId}}):"VOD"==t.courseType&&(t.lastCurriculum?this.$router.push({name:"live",params:{id:t.lastCurriculum.liveChannelId,courseId:t.courseId}}):this.$Toast({message:"暂无直播",position:"middle",duration:1e3}))},favorite:function(t){this.LOGIN_USER_OBJECT?"N"==t.isFollowed?this.addFavoriteCourse(t):this.deleteFavoriteCourse(t):this.showLoginModal=1},addFavoriteCourse:function(t){var e=this;this.axios.post("/api/favorite",{courseId:t.courseId}).then(function(i){"添加成功"==i.data&&(e.$Toast({message:i.data,position:"middle",duration:1e3}),e.$set(t,"isFollowed","Y"))}).catch(function(t){})},deleteFavoriteCourse:function(t){var e=this;this.axios.post("/api/favorite/delete",{courseId:t.courseId}).then(function(i){"移除成功"==i.data&&(e.$Toast({message:i.data,position:"middle",duration:1e3}),e.$set(t,"isFollowed","N"))}).catch(function(t){})}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex_middle",on:{click:function(e){t.course_list(t.item)}}},[!t.LOGIN_USER_OBJECT&&t.showLoginModal?s("login",{on:{showDialogEvent:t.showDialogEvent}}):t._e(),t._v(" "),s("div",{staticClass:"course_header_img"},[s("img",{attrs:{src:t.item.coverImage?t.item.coverImage:t.defaultCoverImg,alt:"VIP课程"}})]),t._v(" "),s("div",{staticClass:"title"},[t._v(t._s(t.item.title))]),t._v(" "),s("div",{staticClass:"course_text_detail"},[s("div",[t.item.teacherNicknames?s("p",{staticClass:"teacher"},[t._v("讲师:"+t._s(t.item.teacherNicknames[0]))]):t._e(),t._v(" "),t.item.teacherNicknames?t._e():s("p",{staticClass:"teacher"},[t._v("讲师:佚名")]),t._v(" "),s("p",{staticClass:"course_text_detail_pad"},[s("img",{staticClass:"course_text_detail_pad_img",attrs:{src:i("Zvnl"),alt:"人数"}}),t._v(t._s(t._f("numFm")(t.item.totalStudent)))])]),t._v(" "),s("div",{staticClass:"attention"},["N"==t.item.isFollowed?s("img",{attrs:{src:t.collection},on:{click:function(e){e.stopPropagation(),t.favorite(t.item)}}}):t._e(),t._v(" "),"Y"==t.item.isFollowed?s("img",{attrs:{src:t.flowed},on:{click:function(e){e.stopPropagation(),t.favorite(t.item)}}}):t._e()])])],1)},staticRenderFns:[]};var c=i("VU/8")(o,n,!1,function(t){i("U57M")},"data-v-7e1aa0c8",null).exports,r=a()({name:"freePage",methods:{},data:function(){return{courses:[],collection:i("k3ix"),flowed:i("9v2m"),item:{courseId:null},live:[],falgNoData:!1,page:1,pagination:!0,showData:!1,defaultCoverImg:i("bgnc")}},components:{courseCategory:c},created:function(){var t=this;window.onscroll=function(){t.dropDown()},this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.axios.get("/api/displaywindow/favorite",{params:{page:this.page}}).then(function(e){t.live=e.data,t.$Indicator.close()}).catch(function(t){})}},"methods",{favorite:function(t){var e=this;this.$store.state.userModule.LOGIN_USER_OBJECT?"N"==t.isFollowed?this.axios.post("/api/favorite",{courseId:t.courseId}).then(function(i){"添加成功"==i.data&&(e.$set(t,"isFollowed","Y"),e.$Toast({message:"添加成功",position:"middle",duration:500}))}).catch(function(t){}):this.axios.post("/api/favorite/delete",{courseId:t.courseId}).then(function(i){"移除成功"==i.data&&(e.$set(t,"isFollowed","N"),e.$Toast({message:"移除成功",position:"middle",duration:500}))}).catch(function(t){}):this.$Toast({message:"请登录后操作",position:"middle",duration:1e3})},dropDown:function(){var t=this;this.falgNoData||this.scrollEvent()&&this.pagination&&(this.$Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),this.page+=1,this.axios.get("/api/displaywindow/favorite",{params:{page:this.page}}).then(function(e){t.pagination&&(e.data&&e.data.length>0?(t.live=t.live.concat(e.data),t.$Indicator.close()):(t.$Indicator.close(),t.pagination=!1,t.showData=!0))}).catch(function(t){}))},course_list:function(t){"VIP"==t.courseType?this.$router.push({name:"vipDetail",params:{id:t.courseId}}):"VOD"==t.courseType&&(t.lastCurriculum?this.$router.push({name:"live",params:{id:t.lastCurriculum.liveChannelId,courseId:t.courseId}}):this.$Toast({message:"暂无直播",position:"middle",duration:1e3}))}}),d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"course_list"},[t.live.length?t._e():s("p",{staticClass:"noWrapper"},[s("img",{attrs:{src:i("Xlep"),alt:"没有关注的课程哦~"}}),s("br"),t._v("暂时还没有内容~~宝宝先看看别的~~")]),t._v(" "),s("section",t._l(t.live,function(e,a){return"Y"==e.isRecommended?s("div",{key:a,staticClass:"live_item",on:{click:function(i){i.stopPropagation(),t.course_list(e)}}},[s("div",{staticClass:"content_bottom content_bottom_one"},[s("div",{staticClass:"middel_img_header"},[s("div",{staticClass:"middel_img_header_text"}),t._v(" "),s("div",{staticClass:"middel_img_header_right_img"},[s("img",{attrs:{src:e.recommendImage,alt:"课程"}})])]),t._v(" "),s("div",{staticClass:"middle_img_footer"},[s("div",{staticClass:"middle_detail"},[s("div",[s("span",[s("span",[t._v(t._s(e.title))])]),t._v(" "),s("span",[s("img",{staticClass:"course_text_detail_pad_img course_text_detail_pad_img_big",attrs:{src:i("S7O6")}}),t._v(t._s(t._f("numFm")(e.totalStudent)))])])]),t._v(" "),s("div",{staticClass:"middle_attention"},[s("img",{attrs:{src:"Y"==e.isFollowed?t.flowed:t.collection},on:{click:function(i){i.stopPropagation(),t.favorite(e)}}})])])])]):t._e()})),t._v(" "),s("section",{staticClass:"course_flex"},t._l(t.live,function(e,i){return"N"==e.isRecommended?s("course-category",{key:i,attrs:{item:e}}):t._e()}))])},staticRenderFns:[]};var l=i("VU/8")(r,d,!1,function(t){i("v4dv")},"data-v-308b8b6d",null);e.default=l.exports},U57M:function(t,e){},v4dv:function(t,e){}});
//# sourceMappingURL=34.ba14301f295dec3f2825.js.map